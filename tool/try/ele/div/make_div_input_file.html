<!DOCTYPE html> <html> <head> <meta charset="utf-8">
<link href="/assets/libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" media="all" />
<link href="/assets/libs/lr/jquery.lr_box.css" rel="stylesheet" media="all" />
<link href="/assets/libs/lr/jquery.lr_element.css" rel="stylesheet" media="all" />
<script src="/resource/pub/js/jq/jquery-3.2.1.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_box.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_base.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_element.js"></script>

//div渲染服务器的数据
<div id="show_div"></div>
<script>
//一个简单的div
var getDataUrl = '/index/tool/get_group';
    var div = makeDiv({
        data_from: {
            url: getDataUrl,
            data_key: 'info',
            post_data: {},
            success_key: 'code',
            success_value: '1',
            err_func: function (e) {
                msgTisf(e.msg);
            }
        },
        value: makeInput({
            value: '{group}',
            name: 'demo',
            'class': 'cloud',
            type:'file',
            url: '/?a={group}',
            success_key: 'id',
            success_value: '0388',
            success_func: function (obj, e) {
                var data_ = e.info;
                obj.value = data_.url;
                obj.prev.src = data_.url + '?r_='+ makeRandomStr(5);
            },
            //预览图参数 prev|preview|view
            prev: {
                width: '60px',
                height: '60px',
                value: '{{group}||"/assets/img/default.jpg"}',
                pos: 'l',
                click: function (img) {
                    msgViewImg(img.attr('src'), {width: 420, bg: true});
                }
            }
        })
    });
  $('#show_div').append(div);


</script>
