<!DOCTYPE html> <html> <head> <meta charset="utf-8">
<link href="/assets/libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" media="all" />
<link href="/assets/libs/lr/jquery.lr_box.css" rel="stylesheet" media="all" />
<link href="/assets/libs/lr/jquery.lr_element.css" rel="stylesheet" media="all" />
<script src="/resource/pub/js/jq/jquery-3.2.1.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_box.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_base.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_element.js"></script>

<style>
    .example1,
    .example2 {
        width: 240px;
        border-radius: 5px;
        margin-bottom: 10px;
        padding: 20px 10px;
    }
    .example1 {
        background-color: #abefad;
    }
    .example2 {
        background-color: #d7dfef;
    }
</style>
<div id="show_div"></div>

<script>
    //一个编辑信息的按钮
    var btn = makeBtn({
        'name': 'demo',
        'class': 'btnLr btnLrSuccess',
        margin: '10px',
        value: '编辑',
        click: function () {
            hideAllBox();
            var diyForm = makeForm({
                'type': 'post',
                'data_from': {
                    url: '/?s=tool/get_nick',
                    success_key: 'id',
                    success_value: '0038',
                    success_func: function (e) {
                        //msgTisf(JSON.stringify(e.info));
                    },
                },
                value: makeTable({
                    'data': '{info}',
                    name: 'table',
                    tr_1: [{
                        td: [ {
                            value: '昵称',
                            'class': 'left_em'
                        },
                            {
                                value: [
                                    makeInput({
                                        name: 'nickname',
                                        value: '{nickname}',
                                        'class': 'no_radius_right',
                                        null_func: function () {
                                            msgTisf('请输入昵称');
                                        }
                                    }),
                                    makeBtn({
                                        value: '修改',
                                        type: 'submit',
                                        'class': 'btnLr btnLrSuccess no_radius_left'
                                    })
                                ]
                            }
                        ]
                    }]
                }),
                submit: function (obj, ev) {//提交时回调
                    // ev.preventDefault();
                    // console.log(obj);
                    // console.log(ev);
                    // ev.preventDefault();
                    // console.log('on submit');
                    // return false;// 可以让表单停止提交 但要记得 ev.preventDefault();
                },
                'url' : '/?s=tool/test_edit',
                success_key: 'id',
                success_value: ['0043', '0113'],
                success_func: function (data) {
                    msgTisf('修改成功');
                },
                err_func: function (data) {
                    msgTisf('修改失败');
                }
            });
            msgView('快速编辑', diyForm);
        }
    });
    $('#show_div').append(btn);
</script>
