<!DOCTYPE html> <html> <head> <meta charset="utf-8">
<link href="/resource/pub/css/jquery.lr_box.css" rel="stylesheet" media="all" />
<link href="/resource/pub/css/jquery.lr_element.css" rel="stylesheet" media="all" />
<script src="/resource/pub/js/jq/jquery-3.2.1.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_box.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_base.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_element.js"></script>

//一个简单的树形菜单
<div id="show_trees"></div>
<br />

<div id="show_reload_btn"></div>

<script>
//一个简单的数据循环
//注意：
// 如果数据是数组: index 作为每个循环的序号 ;
// value/class 属性支持js语法. 变量用{}括起

    var trees = makeTrees({
        //分类数据
        'data':  [{
                     'some_id': 123,
                     'some_title': '大分类A',
                     'sons': [
                         {
                             'some_id': 1231,
                             'some_title': 'A子类1'
                         },{
                             'some_id': 1232,
                             'some_title': 'A子类2'
                         }
                     ]
                 },{
                     'some_id': 124,
                     'some_title': '大分类B',
                     'sons': [
                         {
                             'some_id': 1241,
                             'some_title': 'B子类1',
                             'sons': [
                                 {
                                     'some_id': 124122,
                                     'some_title': 'B子类12'
                                 },{
                                     'some_id': 124244,
                                     'some_title': 'B子类233'
                                 }
                             ]
                         }
                     ]
         }],
        value: ['1232','124244'],
        'name': 'power',
        'title_key': 'some_title',//标题的字段名
        'son_key': 'sons',//子数据的字段名
        'class': 'diy_power',
        'li': {//li显示内容
            'click': function (o, e) {
                console.log(trees);
            },
            input: {
                name: 'power_ids',
                type: 'checkbox',
                value: '{some_id}',
            },
            value: '{some_title}'
        },
        'top': {
            'value': [
                makeSpan({value: '树形分类'}),
                makeBtn({value: '添加分类', 'class': 'btnLr btnLrDefault btn-xs', 'click':'addClass(0)'})
            ]
        }
        });
    $('#show_trees').append(trees);
    function addClass(sid) {
        msgTis('添加分类：'+ sid);
        console.log(trees.value);
    }
    function editClass(sid) {
        msgTis('编辑分类：'+ sid);
    }
    function delClass(sid) {
        msgTis('删除分类：'+ sid);
    }

</script>
