<!DOCTYPE html> <html> <head> <meta charset="utf-8">
<link href="/min/?f=/assets/libs/lr/jquery.lr_box.css,/assets/libs/lr/jquery.lr_element.css" rel="stylesheet" media="all" />
<script src="/resource/pub/js/jq/jquery-3.2.1.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_box.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_base.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_element.js"></script>

//一个简单的树形菜单
<div id="show_trees"></div>
<br />

<div id="show_btn"></div>

<script>
//一个简单的数据循环
//注意：
// 如果数据是数组: index 作为每个循环的序号 ;
// value/class 属性支持js语法. 变量用{}括起

    var tree = makeTrees({
        //分类数据
        items: {
            'data':  [
                {
                    'some_id': 1,
                    'some_title': '分类1',
                    'sons': [
                        {
                            'some_id': 11,
                            'some_title': '分类11',
                        },{
                            'some_id': 12,
                            'some_title': '分类12'
                        },{
                            'some_id': 13,
                            'some_title': '分类13',
                            'sons': [
                                {
                                    'some_id': 131,
                                    'some_title': '分类131',
                                },{
                                    'some_id': 132,
                                    'some_title': '分类132'
                                },{
                                    'some_id': 133,
                                    'some_title': '分类133'
                                }
                            ]
                        }
                    ]
                },
                {
                    'some_id': 2,
                    'some_title': '分类2',
                    'sons': [
                        {
                            'some_id': 21,
                            'some_title': '分类21',
                        },{
                            'some_id': 22,
                            'some_title': '分类22'
                        },{
                            'some_id': 23,
                            'some_title': '分类23',
                            'sons': [
                                {
                                    'some_id': 231,
                                    'some_title': '分类231',
                                },{
                                    'some_id': 232,
                                    'some_title': '分类232'
                                },{
                                    'some_id': 233,
                                    'some_title': '分类233'
                                }
                            ]
                        }
                    ]
                },
                {
                    'some_id': 3,
                    'some_title': '分类3',
                    'sons': [
                        {
                            'some_id': 31,
                            'some_title': '分类31',
                        },{
                            'some_id': 32,
                            'some_title': '分类32'
                        },{
                            'some_id': 33,
                            'some_title': '分类33'
                        }
                    ]
                }
            ],
            'value_key': 'some_id',
            'title_key': 'some_title',
            'son_key': 'sons',//子数据的字段名
            'click': function (o_) {
                // console.log(o_);
                // console.log(o_.value);
            }
        },
        name: 'demo',
        value: '21,22'
        });
    $('#show_trees').append(tree);

    $('#show_btn').append(makeA({
            value: '点此更新数据',
            'class': 'btnLr btnLrSuccess',
            click: function (e) {
                tree['data'] = [
                    {
                        'some_id': 1,
                        'some_title': '魔礼青->' + makeRadom(7),
                        'sons': [
                            {
                                'some_id': 11,
                                'some_title': '华仔永远年轻->' + makeRadom(7),
                            }, {
                                'some_id': 12,
                                'some_title': '给我一杯矿泉水->' + makeRadom(7),
                            }
                        ]
                    },
                    {
                        'some_id': 2,
                        'some_title': '魔礼红->' + makeRadom(7),
                        'sons': [
                            {
                                'some_id': 21,
                                'some_title': '郭天王->' + makeRadom(7),
                            }, {
                                'some_id': 22,
                                'some_title': '对你爱不完->' + makeRadom(7),
                            }, {
                                'some_id': 23,
                                'some_title': '风吹草见牛羊->' + makeRadom(7),
                            }
                        ]
                    },
                    {
                        'some_id': 3,
                        'some_title': '魔礼寿->' + makeRadom(7),
                        'sons': [
                            {
                                'some_id': 31,
                                'some_title': '深秋的黎明->' + makeRadom(7),
                            }, {
                                'some_id': 32,
                                'some_title': 'happy 2019->' + makeRadom(7),
                            }
                        ]
                    },
                    {
                        'some_id': 3,
                        'some_title': '魔礼海->' + makeRadom(7),
                        'sons': [
                            {
                                'some_id': 31,
                                'some_title': '乌蝇哥->' + makeRadom(7),
                            }, {
                                'some_id': 32,
                                'some_title': '学友->' + makeRadom(7),
                            }
                        ]
                    }
                ]
            }
        })
    );
</script>
