<!DOCTYPE html> <html> <head> <meta charset="utf-8">
<link href="/assets/libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" media="all" />
<link href="/assets/libs/lr/jquery.lr_box.css" rel="stylesheet" media="all" />
<script src="/resource/pub/js/jq/jquery-3.2.1.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_box.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_base.js"></script>
<script type="text/javascript" src="/assets/libs/lr/jquery-lr_element.js"></script>

<style>
    .move_box .son_div {
        padding: 10px 0;
    }
</style>
//一个简单的div
<div id="show_div"></div>

<script>
    var all_resource_type = [];
    var getDataUrl = '/?s=tool/get_rows_list';
    function editResource(rid) {
        rid = rid || 0;
        var topTitle = '添加资源';
        var submitUrl =  '/?s=eresource&do=add_resource';
        var dataFrom = null;
        if(rid > 0) {
            topTitle = '修改资源';
            submitUrl =  '/?s=eresource&do=edit_resource&rid='+ rid;
            dataFrom = {
                'url': getDataUrl ,
                'data_key': 'info',
                success_key: 'id',
                success_value: '0038',
            };
        }
        msgView(topTitle, makeForm({
            'url': submitUrl,
            success_key: 'id',
            success_value: ['0043','0113'],
            success_func: function (e) {
                msgTisf(e.msg);
                setTimeout(function () {
                    reloadThisPage();
                }, 500)
            },
            err_func: function (e) {
                msgTisf(e.info);
            },
            data_from: dataFrom,
            'value': makeList({
                data: '{list2}',
                li:{
                    'class': 'input-group',
                    style: 'padding-bottom:12px;',
                    'data-p_id': '{id}',
                    value:   makeBtn({
                        'class': 'btnLr btn-sm btn-warning',
                        value: '删除',
                        'style': 'margin-left:10px;',
                        click: function (obj_, parent_,xy) {
                            var liObj = (obj_.parent.parent);
                            var p_id = liObj.attr('data-p_id');
                            msgTisf('111');
                        }
                    }),
                }
            })
        }), 665, 1);
    }
    editResource(22);
// //一个简单的div
// var getDataUrl = '/?s=tool/get_rows_list';
//     var div = makeDiv({
//         'class': 'well move_box',
//         data_from: {
//             url: getDataUrl,
//             data_key: 'info',
//             post_data: {},
//             success_key: 'code',
//             success_value: '1',
//             err_func: function (e) {
//                 msgTisf(e.msg);
//             }
//         },
//         value:   makeList({
//             data: '{list2}',
//             name: 'demo',
//             title: '共有{this.length}行',
//             li: {
//                 'class': "item {{index} % 2==0 ? 'even': 'odd'}",
//                 value: [
//                     makeSpan({value: '{title}'}),
//                     makeInput({
//                         value: '{id}',
//                         name: 'demo',
//                         'class': 'cloud',
//                         type:'file',
//                         url: '/?a={id}',
//                         success_key: 'id',
//                         success_value: '0388',
//                         success_func: function (obj, e) {
//                             var data_ = e.info;
//                             obj.value = data_.url;
//                             obj.prev.src = data_.url + '?r_='+ makeRadom(5);
//                         }
//                     })
//                 ]
//             }
//         })
//     });
//   $('#show_div').append(div);
</script>
