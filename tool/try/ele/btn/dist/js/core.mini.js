/*
 * @file        lrEle.js
 * @version     v2021.2.22
 * @description makePage by javascript.
 * @license     MIT License
 * @author      LiRui
 * @createTime  2018-08
 */

define("table",["require"],function(e){var t={};return t.makeTable=function(a,n){function r(e,t,a){$.isArray(e)&&(e=e[0]);var n=i.hasData(t),r=!n;if(0==a){console.log("line1_________",t,e);var o=i.cloneData(e);o.extendParentData=r;var l=i.makeTr(o);l.parent=s,s.repeatSons.push(l),n&&(console.log("call----\x3e set data",l,t),i.renewObjData(l,t)),s.tBody.append(l)}else{var o=i.cloneData(i.copySourceOpt(e));o.extendParentData=r;var l=i.makeTr(o);n&&(l.data=t),l.parent=s,s.repeatSons.push(l),s.tBody.append(l)}}function o(e){var t=e.data||null,a=e[d]||{};$.isArray(t)&&i.hasData(t)?$.each(t,function(e,t){r(a,t,e)}):r(a,t,0)}var i=e("core");a=a||{},n=n||!1;var s=$('<table width="100%" border="0"></table>'),l=$("<tbody></tbody>");s.sor_opt||(s.sor_opt=n?i.cloneData(a):i.copySourceOpt(a));var u=i.cloneData(a);s.append(l),s.tag="table",s.tBody=l,s.noRepSons=[],s.repeatSons=[],s.obj_val_is_node=!1;var d="";i.isUndefined(u.tr)||(d="tr");var c=function(e,t){$.isArray(t)||(t=[t]);var a,n,r,o=e.length,l=t.length,u=t.length;if(o>l)for(e.splice(l,o-l).forEach(function(e){e.remove()}),s.repeatSons=e,a=0;a<u;a++)n=a,r=t[a],i.isUndefined(e[n])||(e[n].data=r);else if(o<l)for(a=0;a<u;a++)if(n=a,r=t[a],i.isUndefined(e[n])){var d=i.cloneData(s.sor_opt.tr);$.isArray(d)&&(d=d[0]),d.tag="tr",d.extendParentData=!0;var c=i.makeTr(d);if(c.parent=s,c.data=r,s.repeatSons.length){var p=s.repeatSons[s.repeatSons.length-1];p.after(c)}else s.tBody.append(c);s.repeatSons.push(c)}else e[n].data=r;else{var f;$.each(e,function(e,a){f=t[e],f||(f=[]),i.renewObjData(a,f)})}};return s.renewSonData=function(e){var t=s.repeatSons;d&&c(t,e);var a=s.noRepSons;$.each(a,function(t,a){i.renewObjData(a,e)})},s.appendTrs=function(e){var t=e.data||[],a=0;$.each(e,function(n,r){"tr"!=n.substr(0,2)&&"tr_"!=n.substr(0,3)||("tr"==n?($.isArray(r)&&(r=r[0]),e[d]=r,o(e)):"tr"==n.substr(0,2)&&($.isArray(r)||(r=[r]),r.forEach(function(a){if(!i.getOptVal(e,["data_from","dataFrom"],null)&&i.hasData(t)){var n=i.optionAddData(a,t),r=n[0];a.data=r}var o=i.makeTr(a);o.parent=s,s.noRepSons.push(o),s.tBody.append(o)}))),a++})},s.extend({renew:function(e){var t=!i.isUndefined(e.data);i.optionDataFrom(s,e),i.strObj.formatAttr(this,e,0,t)},cloneSelf:function(){var e=i.cloneData(s.sor_opt);return t.makeTable(e,!0)}}),Object.defineProperty(s,"value",{get:function(){return this.noRepSons.concat(this.repeatSons)}}),Object.defineProperty(s,"obj_val_objs",{get:function(){return this.value}}),s.selectAll=function(e){if(!(e=e||""))return void console.log("no set inputName");var t=!1;if(-1!=e.indexOf("."))t=!0,1==s.find("."+e).first().prop("checked")&&(t=!1),s.find("."+e).prop("checked",t);else{var a=s.find("input[name='"+e+"']");a.length?(t=!0,1==a.first().prop("checked")&&(t=!1),a.prop("checked",t)):(t=i.isUndefined(s["selectAll"+e])?1:s["selectAll"+e],s["selectAll"+e]=!t,$.each(s.value,function(a,n){n.findName(e)&&(n.findName(e).checked=!!t)}))}},s.selected=function(e){if(!(e=e||""))return void console.log("no set inputName");var t=[];t=-1!=e.indexOf(".")?s.find("."+e):s.find("input[name='"+e+"']");var a=[];return t.length?$.each(t,function(e,t){t.prop("checked")&&a.push(t.val())}):$.each(s.value,function(t,n){n.findName(e)&&n.findName(e).checked&&a.push(n.findName(e).value)}),a},s.unselect=function(e){if(!(e=e||""))return void console.log("no set inputName");var t=[];t=-1!=e.indexOf(".")?s.find("."+e):s.find("input[name='"+e+"']");var a=[];return t.length?$.each(t,function(e,t){t.prop("checked")&&findInputByName.prop("checked",!1)}):$.each(s.value,function(t,a){a.findName(e)&&a.findName(e).checked&&(a.findName(e).checked=!1)}),a},s.appendTrs(u),s.renew(u),i.optionGetSet(s,u),i.addCloneName(s,u),s},t}),define("form",["require"],function(e){var t={};return t.makeForm=function(t){var a=e("core"),n=a.cloneData(t);a.isUndefined(n.type)&&(n.type="post");var r=n.url||"#",o=n.type,i=n.submit||null,s=a.getOptVal(n,["replaceData","replace_data"],null),l=a.getOptVal(n,["post_data","postData"],null);"upload"==o&&(n.enctype="multipart/form-data");var u=$.extend({},n);return n.submit=function(e,t){t.preventDefault();var n=a._getFormData(e),d=e.getFormNullErr();if(l&&(n=a.cloneData(l,n)),d&&d.length>0)return"string"!=typeof d[0]&&(d[1].focus(),d[0](d[1],d[2])),!1;if(s&&(n=s(n,e,t)),i){if(!1===i(e,t))return!1}"post"==o?(u.post_data=n,u.post_url=r,a.postAndDone(u,e)):"get"==o&&window.open(r+$.serialize(n),"_blank")},n.obj_val_is_node=!1,a.makeDom({tag:"form",options:n})},t}),define("list",["require"],function(e){var t={},a="obj_val_objs";return t.makeList=function(n,r){function o(e,t,n){var r=i.hasData(t);if(0==n){var o=i.cloneData(e);o.extendParentData=!0;var l=i.makeLi(o);i.objPushVal(s,l),r&&i.renewObjData(l,t)}else{var u=s[a],d=u[0].sor_opt,o=i.cloneData(d);o.extendParentData=!0;var l=i.makeLi(o);i.objPushVal(s,l),r&&i.renewObjData(l,t)}}var i=e("core");n=n||{},r=r||!1,n.tag="list";var s=$("<ul></ul>");s.sor_opt||(s.sor_opt=r?i.cloneData(n):i.copySourceOpt(n));var l=i.cloneData(n);s[a]=[],s.obj_val_is_node=!1,i.isUndefined(l.value)&&(l.value=[]),s.INeedParentValFlag=void 0,s.hasOwnProperty("value")||Object.defineProperty(s,"value",{get:function(){return s[a]},set:function(e){s[a]=e}}),s.lazyCall=i.getOptVal(l,["lazy_call","lazyCall"],null),s.renewSonLen=function(e){var t=i.getOptVal(e,["data"],{}),n=s[a],r=n[0];if(!i.isUndefined(e.data)){var o=i.getOptVal(e,["maxNum","max_num","maxLen","max_len"],!1);i.hasData(t)&&o&&isNumber(o)&&(t=t.slice(0,o));var l,u=n.length,d=t.length;if(u>d){if(0==d&&!s.default_li){var c=i.cloneData(r.sor_opt);c.tag="li",s.default_li=r.cloneSelf(c)}for(n.splice(d,u-d).forEach(function(e){e.remove()}),l=0;l<d;l++)f=t[l],i.renewObjData(n[l],f)}else if(u<d){var l,p,f;for(l=0;l<d;l++)if(f=t[l],i.isUndefined(n[l])){if(i.hasData(n)){var c=i.cloneData(r.sor_opt);c.tag="li",p=r.cloneSelf(c)}else p=s.default_li.cloneSelf(),r=p;p.parent=s,n[n.length]=p,p.data=t[l],this.append(p)}else i.renewObjData(n[l],f)}else for(l=0;l<d;l++)f=t[l],i.renewObjData(n[l],t[l])}},s.extend({renew:function(e){s.INeedParentKey=i.getOptNeedParentKey(e),s.INeedParentValFlag=s.INeedParentKey;var t=!i.isUndefined(e.data);i.optionDataFrom(this,e),i.strObj.formatAttr(this,e,0,t)},cloneSelf:function(){var e=i.cloneData(s.sor_opt);return t.makeList(e,!0)}}),function(e,t){var a=$.extend({},t.li||{});if(!i.hasData(a))return void console.log("未定义li");var n=t.data||null;$.isArray(n)&&i.hasData(n)?$.each(n,function(e,t){o(a,t,e)}):o(a,n,0)}(0,l),s.renew(l),i.optionGetSet(s,l),i.objBindVal(s,l),i.addCloneName(s,l),i.addTimer(s);var u=i.getOptVal(l,["data_from","dataFrom"],null);return s.lazyCall&&(i.hasData(i.getOptVal(l,["data"]))?s.lazyCall(s,i.livingObj):u||s.lazyCall(s,i.livingObj)),s},t}),define("input",["require"],function(require){var global={};return global.makeInput=function(sourceOptions,sureSource){function __callRenewSelfVal(e,t){t=!!core.isUndefined(t)||t,obj.setRealInputVal(e,!0,t)}function formatInputContent(e,t,a){a=a||null;var n=!core.isUndefined(t.max),r=n?parseFloat(t.max):"",o=t.limit||"",i=$.trim(e.input.attr("data-old")),s=e.input.val();if(s=$.trim(s),"int"==o){var l=/[^0-9]/gi;if(l.test(s))return s=s.replace(l,""),void __callRenewSelfVal(s);s&&(s=parseFloat(s))}else if("float"==o){if(isNaN(s)&&"-"!=s){s=s.replace(/[^0-9.]/gi,"");var u=s.match(RegExp(/\./,"g")),d=u?u.length:0;if(d>1){var c=s.indexOf("."),p=s.substr(c+1),f=s.substr(0,c+1),m=p.indexOf("."),v=p.slice(0,m);s=f+v}return void __callRenewSelfVal(s)}s&&(s=parseFloat(s))}if(i!=s){if(n&&s>parseFloat(r))return void __callRenewSelfVal(r);if(n)if(s=parseFloat(s),a){if(!e.checkAddSubBtnOk(a,r,s>r))return void __callRenewSelfVal(r)}else if(s>parseFloat(r))return void __callRenewSelfVal(r);__callRenewSelfVal(s,!1),s=null}}var core=require("core");sourceOptions=sourceOptions||{},sureSource=sureSource||!1,sourceOptions.tag="input";var obj=$("<span></span>");obj.sor_opt||(obj.sor_opt=sureSource?core.cloneData(sourceOptions):core.cloneData(core.copySourceOpt(sourceOptions)));var options=core.cloneData(sourceOptions),inputBind=$.trim(core.getOptVal(options,["bind"],"")),inputType=$.trim(core.getOptVal(options,["type"],"text")),sourceVal=core.getOptVal(options,"value","");obj.textClearObj=null,obj.menu=null,obj.input=null,obj.realVal=null,obj.prev=null,obj.hasCreateLrBtn=!1,obj[core.objValIsNode]=!1,Object.defineProperty(obj,"value",{get:function(){return obj.realVal},set:function(e){obj.setRealInputVal(e)}}),obj.val=function(e){if(core.isUndefined(e))return obj.value;obj.value=e},obj.renewReadonly=function(e){var t=core.getOptVal(e,["readonly","readOnly"],""),a=core.isUndefined(e.readonly)?"readonly":"readOnly",n=core.getOptVal(e,["data"],{}),r=core._onFormatVal(obj,n,t,a);-1!==strInArray(r,[!0,"true","readonly","readOnly"])?obj.input.attr("readonly",!0):obj.input.removeAttr("readonly")},obj.formatVal=function(e){var t=core.getOptVal(e,["data"],{}),a=core._onFormatVal(obj,t,sourceVal),n=inputBind&&""!==a&&!core.livingObj.data[inputBind];obj[core.objAttrHasKh]=!0,obj.setRealInputVal(a,n,!0,[obj]),obj.setLrBtnDisable&&obj.setLrBtnDisable(),obj.lazyCall&&obj.lazyCall(obj,t,core.livingObj)},obj.setRealInputVal=function(e,t,a,n){n=n||[],obj.realVal=e,a=!!core.isUndefined(a)||a,t=!!core.isUndefined(t)||t,t&&inputBind&&(-1==$.inArray(obj,n)&&n.push(obj),core.updateBindObj($.trim(inputBind),e,n),!obj[core.objBindAttrsName]||core.objIsNull(obj[core.objBindAttrsName])||core.isUndefined(obj[core.objBindAttrsName][inputBind])||core.renewObjBindAttr(obj,inputBind)),a&&("file"!=inputType?obj.input.val(e):obj.input.attr("data-value",e)),options.value=e,obj.textClearObj&&(e?obj.textClearObj.removeClass("hidden"):obj.textClearObj.addClass("hidden")),obj.input.attr("data-old",e)};var _createInput=function(optionCopy){var option_=core.cloneData(optionCopy),valueKey=core.getOptVal(option_,["value_key","valueKey"],""),li_num=!!option_.li_num&&parseInt(option_.li_num),input_useClearBtn=!core.isUndefined(options.clear),searchMenuOpt=core.isUndefined(option_.menu)?null:option_.menu,searchLiOpt=core.getOptVal(searchMenuOpt,["li"],null),inputKeyUp=option_.keyup||"",inputChange=option_.change||"",dataKey=option_.data_key||"data",issetMaxVal=!core.isUndefined(option_.max),issetMinVal=!core.isUndefined(option_.min),maxVal=issetMaxVal?parseFloat(option_.max):"",minVal=issetMinVal?parseFloat(option_.min):"",inputTypeAuto=option_.type||"text",useLrBtn=core.getOptVal(option_,["lr_btn"],null),readonly=core.getOptVal(option_,["readonly","readOnly"],null),autocomplete=core.getOptVal(option_,["autocomplete"],"off"),lrBtnStep=parseFloat(option_.lr_btn_step)||1,lrBtnType=option_.lr_btn_type||"middle",callKeys=core.getCallData(option_),ajaxPostName=core.getOptVal(option_,["post_name","postName"],option_.name||"noname"),ajaxEdit=!core.isUndefined(option_.ajax)||!1,ajaxEditData=option_.post_data||option_.postData||!1,ajaxIfKeyLenOver=core.isUndefined(option_.post_min)?0:option_.post_min,successKey=callKeys.successKey,successVal=callKeys.successValue,successFunc=callKeys.successFunc,errFunc=callKeys.errorFunc,inputData=option_.data||null,inputPostData=core.getOptVal(option_,["post_data","postData"],null);successVal&&!$.isArray(successVal)&&(successVal=successVal.toString().split(","));var keyup_extend=null,change_extend=null;obj.input=$('<input class="diy_input" type="'+inputTypeAuto+'" autocomplete="'+autocomplete+'" />'),null!==readonly&&obj.input.attr("readOnly",!0),obj.empty().append(obj.input),core.isUndefined(option_.place)||obj.input.attr("placeholder",option_.place),core.isUndefined(option_.maxlen)||obj.input.attr("maxlength",option_.maxlen),core.isUndefined(option_.accept)||(obj.input.attr("accept",option_.accept),delProperty(option_,"accept"));var subNumObj,addNumObj;if(obj.setLrBtnDisable=!1,useLrBtn&&!obj.hasCreateLrBtn){core.strHasKuohao(maxVal)&&(maxVal=formatStr(maxVal,inputData));var lrBtnWrap;obj.hasCreateLrBtn=!0,"right"==lrBtnType?(lrBtnWrap=$('<div class="btns"></div>'),subNumObj=$('<i class="sub_num">-</i>'),addNumObj=$('<i class="add_num">+</i>'),lrBtnWrap.append(addNumObj).append(subNumObj),obj.input.wrap('<div class="input-group"></div>').wrap('<div class="right_btns"></div>').before(lrBtnWrap)):"left"==lrBtnType?(lrBtnWrap=$('<div class="btns"></div>'),subNumObj=$('<i class="sub_num">-</i>'),addNumObj=$('<i class="add_num">+</i>'),lrBtnWrap.append(addNumObj).append(subNumObj),obj.input.wrap('<div class="input-group"></div>').wrap('<div class="left_btns"></div>').before(lrBtnWrap)):(subNumObj=$('<span class="sub_num input-group-addon">-</span>'),addNumObj=$('<span class="add_num input-group-addon">+</span>'),obj.input.wrap('<div class="input-group"></div>').addClass("text-center").before(subNumObj).after(addNumObj)),obj.setLrBtnDisable=function(){minVal&&obj.input.val()&&issetMinVal&&minVal>=obj.input.val()&&subNumObj.addClass("disabled"),maxVal&&obj.input.val()&&issetMaxVal&&maxVal<=obj.input.val()&&addNumObj.addClass("disabled")},obj.setLrBtnDisable();var newVal;subNumObj.on("click",function(){var e=obj.input.val();(""===e||isNaN(e))&&(e=0),e=parseFloat(e),newVal=e-lrBtnStep,issetMinVal&&!obj.checkAddSubBtnOk(subNumObj,minVal,newVal<minVal)||(obj.setRealInputVal(newVal),issetMinVal&&newVal-lrBtnStep<=minVal&&subNumObj.addClass("disabled"),addNumObj.hasClass("disabled")&&addNumObj.removeClass("disabled"),runFunc(inputKeyUp,obj),runFunc(inputChange,obj),e=null)}),addNumObj.on("click",function(){var e=obj.input.val(),t=obj.attr("max");(""===e||isNaN(e))&&(e=0),e=parseFloat(e),newVal=e+lrBtnStep,issetMaxVal&&!obj.checkAddSubBtnOk(addNumObj,t,newVal>t)||(obj.setRealInputVal(newVal),issetMaxVal&&newVal+lrBtnStep>=t&&addNumObj.addClass("disabled"),subNumObj.hasClass("disabled")&&subNumObj.removeClass("disabled"),runFunc(inputKeyUp,obj),runFunc(inputChange,obj),e=null)})}var optionsEvent={};if(issetMinVal||ajaxEdit){var blur_extend=function(){var e=obj.input.val();if(issetMinVal&&""!==e&&(e=parseFloat(e),subNumObj?obj.checkAddSubBtnOk(subNumObj,minVal,e<minVal)||obj.setRealInputVal(minVal):e<parseFloat(minVal)&&obj.setRealInputVal(minVal)),ajaxEdit){obj.input.attr("data-old",e);var t={};ajaxEditData&&(t=core.cloneData(ajaxEditData,t));var a=obj.attr("url");t[ajaxPostName]=$.trim(e),inputPostData&&(t=core.cloneData(inputPostData,t)),global.postAndDone({postUrl:a,postData:t,successValue:successVal,successKey:successKey,successFunc:successFunc,errorFunc:errFunc},obj)}};option_.blur?(optionsEvent.blur_extend=option_.blur,optionsEvent.blur=blur_extend):optionsEvent.blur=blur_extend}if(searchMenuOpt&&!obj.menu){var ulListOpt=searchMenuOpt||{};ulListOpt.li=searchLiOpt,li_num&&(ulListOpt.maxNum=li_num),valueKey&&(searchLiOpt["data-value"]="{"+valueKey+"}");var menuOpt={class:" ajax_menu",value:global.makeList(ulListOpt)},searchMenu=global.makeDiv(menuOpt);obj.menu=searchMenu,searchMenu.parent=obj,obj.menu.input=obj,obj.append(obj.menu);var systemClickEven=function(){var e=obj.input.val();e&&obj.input.attr("data-old")!=e&&(obj.menu.show(),obj.addClass(menuZindexClass))},userDiyClick=option_.click;optionsEvent.click=function(e){systemClickEven(obj.input,obj,e),userDiyClick(obj.input,obj,e)},change_extend=function(){var e=obj.input.val();if(e.length>0){if(ajaxIfKeyLenOver>0&&e.length<ajaxIfKeyLenOver)return;var t={};t[ajaxPostName]=e,inputPostData&&(t=core.cloneData(inputPostData,t));var a=obj.options.url;global.rePost(a,t,function(e){var t;t=dataKey?e[dataKey]||e:e,obj.menu.data=t,obj.menu.show(),obj.addClass(menuZindexClass)})}else obj.menu.hide(),obj.removeClass(menuZindexClass);obj.textClearObj&&(e?obj.textClearObj.removeClass("hidden"):obj.textClearObj.addClass("hidden"))}}keyup_extend?(optionsEvent.keyup_extend=inputKeyUp,optionsEvent.keyup=keyup_extend):inputKeyUp&&(optionsEvent.keyup=inputKeyUp);var changeDefaultEven=null;if("file"!=inputType&&(changeDefaultEven=function(){formatInputContent(obj,option_,addNumObj)}),optionsEvent["input propertychange"]=function(e){changeDefaultEven&&changeDefaultEven(obj,e),change_extend&&change_extend(obj,e)},"file"==inputType){var fileInput=obj.input,loadingUrl=core.getOptVal(option_,["loadingUrl","loading_url"],null);optionsEvent.change_extend=function(){var inputUrl=obj.options.url;$.ajaxFileUpload({url:inputUrl,loadingUrl:loadingUrl,fileInput:fileInput,secureuri:!1,dataType:"json",finish:function(data){_createInput(optionCopy),core.strObj.addEvents(obj),setTimeout(function(){var tmpSuccessVal=core.getOptVal(data,[successKey],"");-1==strInArray(tmpSuccessVal,successVal)?errFunc&&("function"==typeof errFunc?errFunc(data):eval(errFunc)):successFunc&&("function"==typeof successFunc?successFunc(obj,data):eval(successFunc))},100)}})},obj.input.css("cursor","pointer");var prevOpt=option_.prev||option_.view||option_.preview||"";if(prevOpt.data=core.cloneData(option_.data||{},prevOpt.data),prevOpt.value&&(prevOpt.src=prevOpt.value,delProperty(prevOpt,"value")),obj.input.wrap('<div class="hide_input_file"></div>'),prevOpt){core.isUndefined(prevOpt.class)&&(prevOpt.class="preview_img");var prevPosition=prevOpt.pos||"left",prevImgObj=global.makeImg(prevOpt);obj.prev=prevImgObj,-1!=strInArray(prevPosition,["right","r"])?obj.append(prevImgObj):obj.prepend(prevImgObj)}obj.renewSonData=function(e){e=e||[],renewObjData(obj.prev,e)}}return obj.events=core.cloneData(optionsEvent,obj.events),obj.bindEvenObj=obj.input,input_useClearBtn&&(obj.textClearObj=global.makeSpan({class:"lrXX",click:function(e){e.addClass("hidden"),obj.setRealInputVal("")}}),obj.append(obj.textClearObj)),obj.input};return obj.checkAddSubBtnOk=function(e,t,a){var n="",r=obj.options||"";return r&&(n=r.keyup||""),t=t||0,(a=a||!1)?(e.hasClass("disabled")||e.addClass("disabled"),obj.setRealInputVal(t),n&&runFunc(n,obj),!1):(e.hasClass("disabled")&&e.removeClass("disabled"),!0)},obj.extend({focus:function(){obj.input.focus()},renew:function(e){e.type=e.type||"text",core.isUndefined(e.value)&&(e.value="");var t=e.value,a="diy_input_box";"file"==inputType&&(a="diy_upload_input");var n=options.size||"";core.sizeIsXs(n)?a="diy_input_box input-group-xs":core.sizeIsSm(n)?a="diy_input_box input-group-sm":core.sizeIsMd(n)?a="diy_input_box input-group-md":core.sizeIsBg(n)?a="diy_input_box input-group-bg":core.sizeIsLg(n)&&(a="diy_input_box input-group-lg"),e.class_extend=a,e.class=core.classAddSubClass(e.class,a,!0);var r=!core.isUndefined(e.data);core.optionDataFrom(obj,e),obj.realVal=t,_createInput(e),core.strObj.formatAttr(obj,e,0,r)},updates:function(e,t){t=t||[],inputBind&&-1==$.inArray(obj,t)&&(t.push(obj),obj.setRealInputVal(core.getObjData($.trim(inputBind)),!1)),obj[core.objBindAttrsName]&&obj[core.objBindAttrsName][e]&&core.renewObjBindAttr(this,e),core.strHasKuohao(options.size)&&-1!=$.inArray(e,core.getKuohaoAbc(options.size,"public"))&&obj.renewSizeClass(core.getObjData(e))},cloneSelf:function(){var e=core.cloneData(obj.sor_opt);return global.makeInput(e,!0)}}),obj.renew(options),core.optionGetSet(obj,options),core.objBindVal(obj,options),core.addCloneName(obj,options),obj},global}),define("str",["require"],function(e){var t={};return t.makeRandomInt=function(t){return e("core").isObj(t)&&(t=t[0]),t=t||10,(1e9*Math.random()).toString().substr(0,t).replace(/\./g,"")},t.makeRandomStr=function(e){for(var t="abcdefghijklmnopqrstuvwxyz0123456789".split(""),a="",n=0;n<e;n++)a+=t[Math.floor(36*Math.random())];return a},t.formatFloat=function(t,a){a=e("core").isUndefined(a)?2:a,t=Math.round(t*Math.pow(10,a))/Math.pow(10,a),t=Math.round(100*parseFloat(t))/100;var n=t.toString().split(".");return 1==n.length?t=t.toString():n.length>1?(n[1].length<2&&(t=t.toString()),t):void 0},t}),define("items",["require"],function(e){var t={},a="bind_attrs";return t.makeItems=function(n,r){function o(){if(v&&m){var e=s.getItemTextByVal(),t=i.getOptVal(l,["set_text","setText"],null);if(t){var n=$.isArray(e)?e.join(","):e;i.updateBindObj($.trim(t),n,[s]),!s[a]||i.objIsNull(s[a])||i.isUndefined(s[a][t])||i.renewObjBindAttr(s,t)}}}var i=e("core");n=n||{},r=r||!1;var s=$("<dd></dd>");s.sor_opt||(s.sor_opt=r?i.cloneData(n):i.cloneData(i.copySourceOpt(n)));var l=i.cloneData(n),u=i.getOptVal(l,["bind"],""),d=i.getOptVal(l,["onload","onLoad","ready","onReady"],null),c=i.getOptVal(l,["value"],""),p=[];s.tag="items",s.obj_val_is_node=!1,s.createItem=!1;var f=void 0;s.noNeedEven=!0;var m=!1,v=!1,b=!1;s.formatVal=function(e){e=e||[];var t=i.getOptVal(e,["data"],{});p=i._onFormatVal(s,t,c),m=!0,v&&""!==p&&(b=i.isNumber(p),s.setItemVal(p,[s],!0)),$.isArray(p)&&p.length>0&&void 0===f&&(f=!0),s.lazyCall&&s.lazyCall(s,t)},Object.defineProperty(s,"value",{set:function(e){b&&(e=parseFloat(e)),m=!0,s.setItemVal(e,[s],!0),o()},get:function(){return f?$.isArray(p)?p:p.toString().split(","):$.isArray(p)?p.join(""):p}}),Object.defineProperty(s,"text",{get:function(){return f?s.itemTxtArray:$.isArray(s.itemTxtArray)?s.itemTxtArray.join(""):s.itemTxtArray}}),s.reGetValAndText=function(){var e,t,a=[],n=[],r=s.menu.value;$.each(r,function(r,o){e=o.attr("data-value"),t=o.attr("data-title"),i.isNumber(e)&&b&&(e=parseFloat(e)),o.hasClass("active")&&(a.push(e),n.push(t))}),p=a,s.itemTxtArray=n};var g=function(e){return Array.isArray(p)?-1!=i.strInArray(e,p):e==p};return s.getItemTextByVal=function(){if(!p||!p.length)return"";Array.isArray(p)||(p=i.isNumber(p)&&b?[parseFloat(p)]:p.toString().split(","));var e=[],t=s.menu.value;return $.each(t,function(t,a){var n=a.attr("data-value"),r=a.attr("data-title");p&&g(n)?(a.addClass("active"),e.push(r)):a.removeClass("active")}),s.itemTxtArray=e,e},s.setItemVal=function(e,t,n){p=Array.isArray(e)?e:i.isNumber(e)&&b?[parseFloat(e)]:e.toString().split(","),t=t||[],n=!!i.isUndefined(n)||n;var r=p.join(",");r!==s.attr("data-value")&&s.attr("data-value",r);var o=s.menu.value;$.each(o,function(e,t){var a=t.attr("data-value");""!==a&&p&&g(a)?t.addClass("active"):t.removeClass("active")}),n&&u&&(-1==$.inArray(s,t)&&t.push(s),p.length&&i.updateBindObj($.trim(u),p,t),!s[a]||i.objIsNull(s[a])||i.isUndefined(s[a][u])||i.renewObjBindAttr(s,u))},s.extend({renew:function(e){e=e||{};var t=!i.isUndefined(e.data);i.isUndefined(e.value)&&(e.value=""),i.isUndefined(e.text)&&(e.text="");var a=i.isUndefined(e.value)?[]:e.value;f=i.getOptVal(e,["mul","multi","multity"],void 0);var n=i.getOptVal(e,["lazy_call","lazyCall"],null),r=i.getOptVal(e,["items"],{}),l=i.cloneData(r),u=i.getOptVal(l,["value_key","valueKey"],""),d=i.getOptVal(l,["title_key","titleKey","text_key","textKey"],"");$.isArray(a)&&a.length>0&&void 0==f?f=!0:a&&i.isNumber(a)&&(f=!1),e.class=i.classAddSubClass(e.class,"diy_items",!0);var c;if(!s.createItem){u&&(l["data-value"]="{"+u+"}"),i.delProperty(l,["value_key","valueKey","need_parent_key","needParentKey","title_key","titleKey","text_key","textKey"]);d&&(l["data-title"]="{"+d+"}"),l.value=l.text,i.delProperty(l,["text"]);var g=function(e){var t=e["data-value"];i.isNumber(t)&&b&&(t=parseFloat(t)),f?(e.toggleClass("active"),s.reGetValAndText()):(s.setItemVal([t],[s],!0),o())},h=i.getOptVal(l,["click"],null);l.click=h?function(e,t,a){g(e),h(e,s,t,a)}:function(e){g(e)},l.disabled="{{this.disabled}==true || {this.disabled}=='true' || {this.disabled}==1}";var _={};i.isUndefined(l.data)||(_.data=l.data);var y=i.getOptVal(l,["data_from","dataFrom"],null);y&&(_.dataFrom=y,v=!1),i.delProperty(l,["dataFrom","data_from","data"]),_.li=l,_.needParentKey=i.getOptNeedParentKey(r),_.lazyCall=function(){v=!0,m&&o(),setTimeout(function(){n&&n(s,p,i.livingObj)},100)},c=i.makeList(_);var j=c.value,O=[];j.map(function(e,t){"true"==e.disabled&&O.push(e.attr("data-value"))}),s.disableVals=O,c.parent=s,s.menu=c,s.append(c),s.createItem=!0}i.optionDataFrom(s,e),i.strObj.formatAttr(s,e,0,t)},updates:function(e,t){t=t||[],u&&-1==$.inArray(this,t)&&(t.push(s),this.setItemVal(i.getObjData($.trim(u)),t,!1),o()),s[a]&&s[a][e]&&i.renewObjBindAttr(this,e)},cloneSelf:function(){var e=i.cloneData(s.sor_opt);return t.makeItems(e,!0)}}),s.renew(l),i.optionGetSet(s,l),i.objBindVal(s,l,[{key_:"bind",val_:"value"},{key_:"set_text/setText",val_:"text"}]),i.addCloneName(s),i.addTimer(s),d&&d(s),s},t}),define("select",["require"],function(e){var t={},a="obj_opt_has_kuohao";return t.makeSelect=function(t,n){function r(){if(!i.isUndefined(s[_])){var e=s[_],t=e.menu.menu||null;if(t&&t.INeedParentValFlag)return!0}return!1}function o(e,t){if(t=t||!1,$.isArray(e)&&(e=e.join(",")),r()){var a=s[_],n=a.menu.menu||null;t&&(a.value=""),n.getDataWithParentVal?n.getDataWithParentVal(e):n.getDataFromParentData&&n.getDataFromParentData(s,e,a)}}var i=e("core");t=t||{},n=n||!1;var s=$("<div></div>");s.sor_opt||(s.sor_opt=n?i.cloneData(t):i.cloneData(i.copySourceOpt(t)));var l=i.cloneData(t),u=i.getOptVal(l,["bind"],""),d=i.getOptVal(l,["set_text","setText"],null),c=i.getOptVal(l,["onMenuOpen","menuOpen","menu_pen"],null),p=i.getOptVal(l,["onMenuClose","menuClose","menu_close"],null),f=i.getOptVal(l,["value"],""),m="btnGLr",v=l.size||"";i.sizeIsXs(v)?m="btnGLr btnGLrXs":i.sizeIsSm(v)?m="btnGLr btnGLrSm":i.sizeIsMd(v)?m="btnGLr btnGLrMd":i.sizeIsBg(v)?m="btnGLr btnLrBg":i.sizeIsLg(v)&&(m="btnGLr btnGLrLg");var b=i.getOptVal(l,["default_text","defaultText"],"请选择");i.isUndefined(l.defaultText)||i.isUndefined(l.default_text)||(l.default_text=b,i.delProperty(l,["defaultText"])),s.append($('<div class="inner">         <div class="title_wrap '+m+' ">            <button class="select_text btnLr btnLrDefault" tabindex="1">'+b+'</button>            <span class="btnLr btnLrDefault" type="button"><span class="caret"></span></>         </div>      </div>')),s.textObj=s.find(".select_text"),s.multi=!1,s.obj_val_is_node=!1,s.createMenu=!1,s.menu=!1,s.clear_btn=null,s.selectValArray=[],s.selectTxtArray=[];var g=!1,h=s.find(".inner");h.click(function(e,t){e.stopPropagation(),$(e.target).hasClass("lrXX")||(s.menu.show(),s.addClass("menu_add_zindex"),s.textObj.focus(),c&&c(e,s))}),h.on({mouseenter:function(){g=!0},mouseleave:function(){g=!1}}),s.textObj.on({blur:function(){g?s.textObj.focus():setTimeout(function(){s.menu.hide(),p&&p(even_,s)},100)}});var _="son";s.INeedParentValFlag=!1;var y=!1,j=i.getOptVal(l,["clear"],!1);return s.hasRenewSonObj=!1,s.renewText=function(e){e&&!i.isUndefined(e)||(e=s.menu.text);var t;e?($.isArray(e)&&0==e.length&&(e=[b]),t=$.isArray(e)?e.join(","):e):(e=[b],t=b),s.textObj.setSelectMenuText(e,t),d&&(i.updateBindObj($.trim(d),t,[s]),!s.bind_attrs||i.objIsNull(s.bind_attrs)||i.isUndefined(s.bind_attrs[d])||i.renewObjBindAttr(s,d)),j&&(s.clear_btn?t.length>0?s.clear_btn.removeClass("hidden"):s.clear_btn.addClass("hidden"):(s.clear_btn=i.makeSpan({class:"lrXX"+(""==t?" hidden":""),click:function(e){e.addClass("hidden"),s.value=""}}),h.addClass("has_clear").append(s.clear_btn)))},s.formatVal=function(e){e=e||[];var t=i.getOptVal(e,["data"],{}),n=i._onFormatVal(s,t,f);!0!==s.menu.menuXuanranSuccess||s.hasRenewSonObj||s[_]&&(s.hasRenewSonObj=!0,o(n)),$.isArray(n)&&n.length>0&&void 0==s.multi&&(s.multi=!0),s.setSelectVal(n,[s]),1==s[a]&&s.menu.menuXuanranSuccess&&s.menu.valueSeted&&(s.renewText(),y=!0),s.lazyCall&&s.lazyCall(s,t,i.livingObj)},s.setSelectVal=function(e,t,a){if(t=t||[],a=!!i.isUndefined(a)||a,s.menu.value!=e&&(s.menu.value=e),a){if(u){if(-1==$.inArray(s,t)&&t.push(s),""!==e)i.updateBindObj($.trim(u),e,t);else{var n=i.isUndefined(livingObj.data[u])?null:i.livingObj.data[u];""!==n&&s.setSelectVal(n,[s])}!s.bind_attrs||i.objIsNull(s.bind_attrs)||i.isUndefined(s.bind_attrs[u])||i.renewObjBindAttr(s,u)}d&&(-1==$.inArray(s,t)&&t.push(s),""!==e&&i.updateBindObj($.trim(d),s.text,t),!s.bind_attrs||i.objIsNull(s.bind_attrs)||i.isUndefined(s.bind_attrs[d])||i.renewObjBindAttr(s,d))}},Object.defineProperty(s,"value",{set:function(e){s.menu.value=e,s.renewText()},get:function(){return s.menu.value}}),Object.defineProperty(s,"menuData",{set:function(e){s.menu.menu.data=e,s.menu.getItemTextByVal(),s.renewText()}}),Object.defineProperty(s,"text",{get:function(){var e=s.menu.text;return $.isArray(e)?e.join(","):e}}),s.textObj.setSelectMenuText=function(e,t){this.html($.isArray(e)&&e.length>1?"已选"+e.length+"个":e).attr("data-old",t)},s.extend({renew:function(e){e=e||{};var t=!i.isUndefined(e.data);i.isUndefined(e.value)&&(e.value="");var n=i.getOptVal(e,["value"],[]),r=n;s.INeedParentValFlag=i.getOptNeedParentKey(e);var l=i.getOptVal(e,["li"],{}),u=i.getOptVal(e,["pageObj"],null),d=e.data||{},c=i.getOptVal(e,["lazy_call","lazyCall"],null);s.multi=i.getOptVal(e,["mul","multi","multity"],void 0),$.isArray(n)&&n.length>0&&void 0==s.multi&&(s.multi=!0);var p=e.value||"";i.strHasKuohao(p,"public")?s[a]=!0:i.strHasKuohao(p,"data")?s[a]=!0:s[a]=!1;var f=e.son||{},m=null;if(i.hasData(f)){var v="default_text/value_key/title_key/text_key/li/url/post_name/data_key/success_key/successValue/success_value/success_func".split("/");f.INeedParentValFlag=i.getOptNeedParentKey(f),v.forEach(function(t){i.isUndefined(f[t])&&!i.isUndefined(e[t])&&(f[t]=e[t])}),m=i.makeSelect(f),m.parent=s,s[_]=m}if(!s.createMenu){var b=i.getOptVal(e,["data_from","dataFrom"],null),g=i.getOptVal(e,["menu"],{}),j=i.getOptVal(g,["data_from","dataFrom"],null),O=i.getOptVal(g,["data"],null);j||O?(j?l.data_from=j:l.data=i.cloneData(O),i.delProperty(g,["data"]),i.optionDataFrom(s,e)):b?(l.data_from=i.cloneData(b),i.delProperty(e,["data_from"])):d&&(l.data=i.cloneData(d),i.delProperty(e.data)),!i.isUndefined(l.value)&&i.isUndefined(l.text)&&(l.text=l.value,i.delProperty(l,["value"]));var x=i.getOptVal(e,["value_key","valueKey"],"value"),k=i.getOptVal(e,["title_key","titleKey","text_key","textKey"],null);if(!k&&!l.title_key)return void console.log("select未定义title_key ");x&&(l.value_key=x),k&&(l.title_key=k);var A=i.getOptVal(l,["click"],"");l.click=function(e,t,a,n){a.stopPropagation(),s.renewText(),s.setSelectVal(s.value,[s]),o(s.value,1),A&&A(e,t,n),s.multi||s.menu.hide()},g.lazy_call=function(e){setTimeout(function(){if(1==s.menu.valueSeted&&(1==s[a]&&!y||!s[a])){var t=e.getItemTextByVal();s.renewText(t),s.value&&!s.hasRenewSonObj&&(s.hasRenewSonObj=!0,o(s.value))}c&&c(s,r,i.livingObj)},50)},l.needParentKey=s.INeedParentValFlag,g=$.extend({},g,{items:l,multi:s.multi,value:r}),i.delProperty(g,["data_from","dataFrom"]);var V=i.makeItems(g);V.parent=s,s.menu=V,h.append(V),u&&s.menu.append(u),s.createMenu=!0}var w={};e.class_extend="select_box",i.delProperty(w,["value"]);var D=i.cloneData(e);i.isUndefined(D.value)&&(D.value=""),i.strObj.formatAttr(s,D,0,t)},updates:function(e,t){t=t||[],u&&-1==$.inArray(this,t)&&(this.value=i.getObjData($.trim(u))),s.bind_attrs&&s.bind_attrs[e]&&i.renewObjBindAttr(this,e)},cloneSelf:function(){var e=i.cloneData(s.sor_opt);return i.makeSelect(e,!0)}}),i.objBindVal(s,l,[{key_:"bind",val_:"value"},{key_:"set_text/setText",val_:"text"}]),s.renew(l),i.optionGetSet(s,l),i.addCloneName(s),s},t}),define("tree",["require"],function(e){var t={},a="bind_attrs";return t.makeTree=function(n,r){function o(){if(v&&m){var e=s.getItemTextByVal(),t=i.getOptVal(l,["set_text","setText"],null);if(t){var n=$.isArray(e)?e.join(","):e;i.updateBindObj($.trim(t),n,[s]),!s[a]||i.objIsNull(s[a])||i.isUndefined(s[a][t])||i.renewObjBindAttr(s,t)}}}var i=e("core");n=n||{},r=r||!1;var s=$("<dd></dd>");s.sor_opt||(s.sor_opt=r?i.cloneData(n):i.cloneData(i.copySourceOpt(n)));var l=i.cloneData(n),u=i.getOptVal(l,["bind"],""),d=i.getOptVal(l,["onload","onLoad","ready","onReady"],null),c=i.getOptVal(l,["value"],""),p=[];s.tag="tree",s.obj_val_is_node=!1,s.createItem=!1;var f=void 0,m=!1,v=!1,b=!1,g=i.getOptVal(l,["menu"],null),h=i.getOptVal(g,["li"],null),_=i.getOptVal(h,["checkedBox"],null),y=i.getOptVal(h,["value"],null);if(!g)return void console.log("no set menu");if(!h)return void console.log("no set menu.li");var j=i.getOptVal(g,["value_key","valueKey"],""),O=i.getOptVal(g,["title_key","titleKey","text_key","textKey"],"");if(!j)return void console.log("no set menu.valueKey");if(!O)return void console.log("no set menu.titleKey");i.getOptVal(g,["son_key","sonKey","son_data_key","sonDataKey"],null);s.formatVal=function(e){e=e||[];var t=i.getOptVal(e,["data"],{});p=i._onFormatVal(s,t,c),m=!0,
v&&""!==p&&(b=i.isNumber(p),s.setItemVal(p,[s],!0)),$.isArray(p)&&p.length>0&&void 0==f&&(f=!0),s.lazyCall&&s.lazyCall(s,t)},Object.defineProperty(s,"value",{set:function(e){b&&(e=parseFloat(e)),m=!0,s.setItemVal(e,[s],!0),o()},get:function(){return f?$.isArray(p)?p:p.toString().split(","):$.isArray(p)?p.join(""):p}}),Object.defineProperty(s,"text",{get:function(){return f?s.itemTxtArray:$.isArray(s.itemTxtArray)?s.itemTxtArray.join(""):s.itemTxtArray}}),s.reGetValAndText=function(){var e,t,a=[],n=[],r=s.menu.value;$.each(r,function(r,o){e=o.attr("data-value"),t=o.attr("data-title"),i.isNumber(e)&&b&&(e=parseFloat(e)),o.hasClass("active")&&(a.push(e),n.push(t))}),p=a,s.itemTxtArray=n};var x=function(e){return Array.isArray(p)?-1!=i.strInArray(e,p):e==p};s.getItemTextByVal=function(){if(!p||!p.length)return"";Array.isArray(p)||(p=i.isNumber(p)&&b?[parseFloat(p)]:p.toString().split(","));var e,t=[],a=s.obj_val_objs;return $.each(a,function(a,n){e=n.value;var r=e.value,o=tmpItem.attr("data-title");p&&x(r)?(n.addClass("active"),t.push(o)):n.removeClass("active")}),s.itemTxtArray=t,t},s.setItemVal=function(e,t,n){p=Array.isArray(e)?e:i.isNumber(e)&&b?[parseFloat(e)]:e.toString().split(","),t=t||[],n=!!i.isUndefined(n)||n;var r=p.join(",");r!==s.attr("data-value")&&s.attr("data-value",r);var o,l,d=s.obj_val_objs;$.each(d,function(e,t){o=t.value,l=o.value,""!==l&&p&&x(l)?o.checked=1:o.checked=0}),n&&u&&(-1==$.inArray(s,t)&&t.push(s),p.length&&i.updateBindObj($.trim(u),p,t),!s[a]||i.objIsNull(s[a])||i.isUndefined(s[a][u])||i.renewObjBindAttr(s,u))};var k=function(){var e=i.cutOptEvens(g),t=e[1],a=[];if(_){var n=function(e){console.log("toggle checked parent")},r=i.getOptVal(_,"click",null);_.click=r?function(e,t,a){n(0),r(e,t,a)}:function(e,t,a){n(0)};var o=!1,s=!1;i.isStrOrNumber(y)?i.isUndefined(_.text)?_.text=y:o=!0:s=!0,a.push(i.makeChecked(_))}else i.isStrOrNumber(y)?o=!0:s=!0;if(o&&a.push(i.makeSpan({value:y})),s){Array.isArray(y)||(y=[y]);var l,u=null;y.map(function(e){i.isOurObj(e)?(l=e.sor_opt,u=i.makeDom({tag:l.tag,options:l})):e&&(u=e.clone()),u&&a.push(u)})}return i.delProperty(h,["checkedBox"]),i.delProperty(t,["son_key"]),t.li=h,t.class="rootMenu",t.li.class="parentLi",t.li.value=a,console.log("menuNoEven",t),i.makeList(t)};return s.extend({renew:function(e){e=e||{};var t=!i.isUndefined(e.data);i.isUndefined(e.value)&&(e.value=""),i.isUndefined(e.text)&&(e.text="");var a=i.isUndefined(e.value)?[]:e.value;f=i.getOptVal(e,["mul","multi","multity"],void 0),$.isArray(a)&&a.length>0&&void 0===f?f=!0:a&&i.isNumber(a)&&(f=!1),e.class=i.classAddSubClass(e.class,"diy_tree",!0),s.rootMenu=k(),s.append(s.rootMenu),i.optionDataFrom(s,e),i.strObj.formatAttr(s,e,0,t)},updates:function(e,t){t=t||[],u&&-1==$.inArray(this,t)&&(t.push(s),this.setItemVal(i.getObjData($.trim(u)),t,!1),o()),s[a]&&s[a][e]&&i.renewObjBindAttr(this,e)},cloneSelf:function(){var e=i.cloneData(s.sor_opt);return t.makeTree(e,!0)}}),s.renew(l),i.optionGetSet(s,l),i.objBindVal(s,l,[{key_:"bind",val_:"value"},{key_:"set_text/setText",val_:"text"}]),i.addCloneName(s),i.addTimer(s),d&&d(s),s},t}),define("img",["require"],function(e){var t={};return t.makeImg=function(a,n){var r=e("core");a=a||{},a.tag="img",n=n||!1;var o=$("<img />");o.sor_opt||(o.sor_opt=n?r.cloneData(a):r.cloneData(r.copySourceOpt(a)));var i=r.cloneData(a),s=r.getOptVal(i,["src","value"],""),l=r.getOptVal(i,["bind"],""),u=r.isUndefined(i.src)?"value":"src";o.obj_val_is_node=!1;return o.formatVal=function(e){e=e||[];var t=!r.isUndefined(e.data)&&e.data,a=r._onFormatVal(o,t,s,u);a&&!r.strHasKuohao(a)&&o.attr("src",a);var n=1==o.obj_opt_has_kuohao;l&&n&&r.updateBindObj($.trim(l),a,[o])},o.extend({renew:function(e){var t=!r.isUndefined(e.data),a=e.load||null,n=e.error||null;r.optionDataFrom(this,e),r.strObj.formatAttr(this,e,0,t),o.off("load").on("load",function(e){a&&a(o,e)}).on("error",function(e){n&&n(o,e)})},updates:function(e,t){t=t||[],l&&-1==$.inArray(this,t)&&(t.push(this),this.attr("src",r.getObjData($.trim(l)))),o.bind_attrs&&o.bind_attrs[e]&&r.renewObjBindAttr(this,e)},cloneSelf:function(){var e=r.cloneData(o.sor_opt);return t.makeImg(e,!0)}}),Object.defineProperty(o,"value",{get:function(){return this.attr("src")},set:function(e){r.isUndefined(l)||r.updateBindObj($.trim(l),e,[o]),this.attr("src",e)}}),Object.defineProperty(o,"src",{get:function(){return this.attr("src")},set:function(e){r.isUndefined(l)||r.updateBindObj($.trim(l),e,[o]),this.attr("src",e)}}),o.renew(i),r.optionGetSet(o,i,"src"),r.objBindVal(o,i,[{key_:"bind",val_:"src"}]),r.addCloneName(o,i),o},t}),define("radio",["require"],function(e){var t={};return t.makeRadio=function(t,a){var n=e("core");t=t||{},a=a||!1;var r=$('<div><div class="inner"></div></div>');t.tag="radio",r.sor_opt||(r.sor_opt=a?n.cloneData(t||{}):n.cloneData(n.copySourceOpt(t)));var o=n.cloneData(t),i=n.getOptVal(o,["bind"],""),s=n.getOptVal(o,["value"],""),l=r.find(".inner");return r.obj_val_is_node=!1,r.createItem=!1,r.itemsObj=null,r.formatVal=function(e){e=e||[];var t=n.getOptVal(e,["data"],{}),a=n._onFormatVal(r,t,s);$.isArray(a)&&(a=a.join(",")),""===a||n.strHasKuohao(a)||r.callRenewBind(a,[],!1)},r.callRenewBind=function(e,t,a){if(a=a||!1,t=t||[],""===e||n.isUndefined(e)?e=r.value:r.value=e,a){1==r.obj_opt_has_kuohao&&(!r.bind_attrs||n.objIsNull(r.bind_attrs)||n.isUndefined(r.bind_attrs[i])||n.renewObjBindAttr(r,i)),i&&-1==$.inArray(r,t)&&(t.push(r),n.updateBindObj(i,e,t));var s=n.getOptVal(o,["set_text","setText"],null);s&&-1==$.inArray(r,t)&&(t.push(r),n.updateBindObj(s,r.text,[t]))}},Object.defineProperty(r,"value",{set:function(e){r.itemsObj.value=e},get:function(){return r.itemsObj.value}}),Object.defineProperty(r,"text",{get:function(){var e=r.itemsObj.text;return $.isArray(e)?e.join(","):e}}),r.getItem=function(e){return r.items.menu.value[e].siblings("li").hide(),r},r.extend({renew:function(e){e=e||{};var t=!n.isUndefined(e.data),a=n.cloneData(e);n.isUndefined(a.value)&&(a.value="");var o=n.getOptVal(a,["value"],[]),i=n.getOptVal(a,["items"],{}),s=n.isUndefined(a.type)?"":a.type,u="",d=a.size||"";n.sizeIsXs(d)?u="radios-xs":n.sizeIsSm(d)?u="radios-sm":n.sizeIsMd(d)?u="radios-md":n.sizeIsLg(d)&&(u="radios-lg"),s&&1!=s&&(u+=" radioType"+s),a.class_extend="diy_radio "+u,n.optionDataFrom(r,a);var c=n.getOptVal(i,["title_key","titleKey","text_key","textKey"],null),p=n.getOptVal(i,["value_key","valueKey"],null);if(!c){var f=n.getOptVal(a,["title_key","titleKey","text_key","textKey"],"title");f&&(c=i.title_key=f)}if(!p){var m=n.getOptVal(a,["value_key","valueKey"],"value");m&&(p=i.value_key=m)}var v=n.getOptVal(a,["click"],null);i.click=function(e,t){r.callRenewBind(r.value,[],!0),v&&v(e,t)},i.text="<span class='_icon'></span><span class='text'>{"+c+"}</span>",i.disabled="{disabled}";var b={items:i,value:""};""===o||n.strHasKuohao(o)||(b.value=o);var g=n.makeItems(b);g.parent=r,r.itemsObj=g,r.menu=g,r.items=g,l.append(g),n.strObj.formatAttr(r,a,0,t)},updates:function(e,t){t=t||[];var a=n.getObjData($.trim(i));-1==$.inArray(r,t)&&-1==n.strInArray(a,r.menu.disableVals)&&(t.push(r),i&&r.callRenewBind(a,t,!1),r.bind_attrs&&r.bind_attrs[e]&&n.renewObjBindAttr(r,e))},cloneSelf:function(){var e=n.cloneData(r.sor_opt);return n.makeRadio(e,!0)}}),n.objBindVal(r,o,[{key_:"bind",val_:"value"},{key_:"setText/set_text",val_:"text"}]),r.renew(o),n.optionGetSet(r,o),n.addCloneName(r),r},t}),define("checked",["require"],function(e){var t={},a={};return t.makeCheck=t.makeChecked=t.makeCheckbox=function(n,r){var o=e("core");n=n||{},n.tag="checked",r=r||!1;var i=$("<i></i>");i.sor_opt||(i.sor_opt=r?o.cloneData(n):o.cloneData(o.copySourceOpt(n)));var s=o.cloneData(n),l=o.getOptVal(s,["bind"],""),u=o.getOptVal(s,["value"],"");if(s.tag="checked",i.sor_opt||(i.sor_opt=r?o.cloneData(n||{}):o.cloneData(o.copySourceOpt(defaultOps))),o.isUndefined(s.name)){var d=o.createRadomName("check");s.name=d}i.obj_val_is_node=!1,i.createCheck=!1;var c=o.getOptVal(s,["only","single","one"],null);c&&(o.isUndefined(a[c])&&(a[c]=[]),a[c].push(i)),i.formatVal=function(e){e=e||[];var t=o.getOptVal(e,["data"],{}),a=o._onFormatVal(i,t,u);$.isArray(a)&&(a=a.join(","));var n=o.strHasKuohao(a,"public");i.callRenewBind(a,[i],n),e.lazyCall&&e.lazyCall(i,t,o.livingObj)},i.callRenewBind=function(e,t,a){t=t||[],a=!!o.isUndefined(a)||a,o.isUndefined(e)?e=i.checked_value:i.checked_value=e,l&&a&&(-1==$.inArray(i,t)&&(t.push(i),o.updateBindObj(l,e,t)),!i.bind_attrs||objIsNull(i.bind_attrs)||o.isUndefined(i.bind_attrs[l])||o.renewObjBindAttr(i,l));var n=o.getOptVal(s,["set_text","setText"],null);n&&(o.updateBindObj(n,i.text,[i]),!i.bind_attrs||objIsNull(i.bind_attrs)||o.isUndefined(i.bind_attrs[n])||o.renewObjBindAttr(i,n))};var p=function(){var e=i.attr("checked");return!o.isUndefined(e)&&!(0==e||"0"==e||"false"==e||!e)};return Object.defineProperty(i,"value",{set:function(e){i.checked_value=e},get:function(){return p()?i.checked_value:""}}),Object.defineProperty(i,"text",{set:function(e){i.checked_title=e},get:function(){return p()?i.checked_title:""}}),Object.defineProperty(i,"checked",{set:function(e){0!=e&&"false"!=e&&e?i.attr("checked",e):i.removeAttr("checked")},get:function(){return p()}}),i.extend({renew:function(e){e=e||{};var t=!o.isUndefined(e.data),n=e.size||"",r="";o.sizeIsXs(n)?r="checked-xs":o.sizeIsSm(n)?r="checked-sm":o.sizeIsMd(n)?r="checked-md":o.sizeIsLg(n)&&(r="checked-lg");var l=o.isUndefined(e.type)?"":e.type;e.class_extend="diy_checked"+(l&&1!=l?" checkStyle"+l:"")+(r?" "+r:"");var u=o.getOptVal(e,["disable","disabled"],"");!o.isUndefined(e.disable)&&o.isUndefined(e.disabled)&&(e.disabled=u,delProperty(e,["disable"])),e.checked_value=o.getOptVal(e,["checked","value"],1),e.checked_title=o.getOptVal(e,["text"],"");var d=o.getOptVal(e,["text"],"");if(1==u&&(e.disabled=!0),o.optionDataFrom(i,e),!i.createCheck){var f=$('<span class="_inner"><span class="_icon"></span><span class="_title">'+d+"</span></span>");i.append(f),i.createCheck=!0;var m=o.getOptVal(e,["click"],null),v=function(t,n){if(!t.attr("disabled")){var r=p();r?t.removeAttr("checked"):t.attr("checked","true");var l=!r;l=l?i.checked_value:0,t.options.checked=l,e.bind&&(o.updateBindObj($.trim(e.bind),l,[t]),!i.bind_attrs||objIsNull(i.bind_attrs)||o.isUndefined(i.bind_attrs[e.bind])||o.renewObjBindAttr(i,e.bind));var u=o.getOptVal(s,["set_text","setText"],null);u&&(o.updateBindObj(u,i.text,[i]),!i.bind_attrs||objIsNull(i.bind_attrs)||o.isUndefined(i.bind_attrs[u])||o.renewObjBindAttr(i,u)),!r&&c&&a[c]&&$.each(a[c],function(e,t){t!==i&&(t.checked=!1)})}};e.click=function(e,t){v(e),m&&m(e,t)}}if(o.strHasKuohao(e.text)){var b=e.onFormat_text||null;e.onFormat_text=function(e,t,a){f.find("._title").html(t),b&&b(e,t,a)}}o.strObj.formatAttr(i,e,0,t)},updates:function(e,t){if(t=t||[],l&&-1==$.inArray(this,t)){var a=getObjData($.trim(l));a&&0!=a&&"false"!=a?this.attr("checked",1):this.removeAttr("checked")}var n=o.getOptVal(s,["set_text","setText"],null);n&&this.attr("data_text",getObjData($.trim(n))),i.bind_attrs&&i.bind_attrs[e]&&o.renewObjBindAttr(this,e)},cloneSelf:function(){var e=o.cloneData(i.sor_opt);return t.makeChecked(e,!0)}}),o.objBindVal(i,s,[{key_:"bind",val_:"value"},{key_:"set_text/setText",val_:"text"}]),i.renew(s),o.optionGetSet(i,s),o.addCloneName(i),i},t}),define("switch",["require"],function(e){var t={};return t.makeSwitch=function(a,n){var r=e("core");a=a||{},n=n||!1,a.tag="switch";var o=$("<span></span>");o.sor_opt||(o.sor_opt=n?r.cloneData(a||{}):r.cloneData(r.copySourceOpt(a)));var i=r.cloneData(a);r.isUndefined(i.value)&&(i.value="");var s=r.getOptVal(i,["value"],""),l=r.getOptVal(i,["bind"],"");i.class_extend="diy_switch",o.obj_val_is_node=!1,o.switchVal=s,o.switchText="";var u=r.getOptVal(i,"value",""),d=$('<span class="icon_box"><span class="icon_par"><i class="icon"></i></span><span class="text1"></span><span class="text2"></span></span>'),c=d.find(".text1"),p=d.find(".text2");return o.append(d),o.formatVal=function(e){e=e||[];var t=r.getOptVal(e,["data"],{}),a=r._onFormatVal(o,t,u);e.value=a,o.valChange(a,[o],!1),o.lazyCall&&o.lazyCall(o,t,r.livingObj)},Object.defineProperty(o,"value",{get:function(){return o.switchVal},set:function(e){o.valChange(e,[this],!0)}}),Object.defineProperty(o,"text",{get:function(){return o.switchText}}),o.extend({valChange:function(e,t,a){t=t||[],a=!!r.isUndefined(a)||a,e!=o.attr("data-value")&&(o.attr("data-value",e),e==c.attr("data-val")?(d.addClass("active"),o.switchText=c.data("text"),o.attr("title",c.data("text")),(o.activeColor||o.active_color)&&d.css("backgroundColor",o.activeColor||o.active_color),c.addClass("activeSw"),p.removeClass("activeSw")):(d.removeClass("active"),o.switchText=p.data("text"),o.attr("title",p.data("text")),(o.inActiveColor||o.inactive_color)&&d.css("backgroundColor",o.inActiveColor||o.inactive_color),c.removeClass("activeSw"),p.addClass("activeSw"))),o.switchVal=e;var n=r.getOptVal(i,["setText","set_text"],null),s=o.text;if(-1==$.inArray(o,t)&&t.push(o),a){if(e.length&&l&&a)r.updateBindObj($.trim(l),e,t);else{var u=r.isUndefined(r.livingObj.data[l])?null:r.livingObj.data[l];u&&(o.value=u)}!o.bind_attrs||objIsNull(o.bind_attrs)||r.isUndefined(o.bind_attrs[l])||r.renewObjBindAttr(o,l)}n&&""!==s&&r.updateBindObj($.trim(n),s,t)},renew:function(e){var t=e.item||[{value:1},{value:0}],a=r.isUndefined(e.value_key)?"value":e.value_key,n=r.isUndefined(e.text_key)?"text":e.text_key,i=r.isUndefined(e.type)?"":e.type,s=r.getOptVal(e,["disabled","disable"],""),l=r.getOptVal(e,["show_text","showText"],!1),u=r.getOptVal(e,["readonly","readOnly"],!1),d=!r.isUndefined(e.data),f=e.size||"",m="";r.sizeIsXs(f)?m="switch-xs":r.sizeIsSm(f)?m="switch-sm":r.sizeIsMd(f)?m="switch-md":r.sizeIsLg(f)&&(m="switch-lg"),c.attr("data-val",t[0][a]),p.attr("data-val",t[1][a]),r.isUndefined(t[0][n])||!1!==l&&0!==l&&c.html(t[0][n]),r.isUndefined(t[1][n])||!1!==l&&0!==l&&p.html(t[1][n]),s&&e.disable&&!e.disabled&&(e.disabled=s,r.delProperty(e,["disable"])),e.class_extend="diy_switch"+(i&&1!=i?i:"")+(1==s?" isDisable":"")+(m?" "+m:""),r.optionDataFrom(this,e);var v=function(e){if(u)return!1;var t=e.switchVal==c.attr("data-val")?p.attr("data-val"):c.attr("data-val");o.valChange(t)},b=e.click;e.click=function(e){v(o),b&&b(o,e)},r.strObj.formatAttr(this,e,0,d)},updates:function(e,t){t=t||[],l&&-1==$.inArray(this,t)&&(t.push(this),this.valChange(r.getObjData($.trim(l)),t,!1)),o.bind_attrs&&o.bind_attrs[e]&&r.renewObjBindAttr(this,e)},cloneSelf:function(){var e=r.cloneData(o.sor_opt);return t.makeSwitch(e,!0)}}),o.renew(i),r.optionGetSet(o,i),r.objBindVal(o,i,[{key_:"bind",val_:"value"},{key_:"set_text/setText",val_:"text"}]),r.addCloneName(o),o.valChange(s),o},t}),define("bar",["require"],function(e){var t={};return t.makeBar=function(t,a){var n=e("core");t=t||{},a=a||!1;var r=$("<div></div>");r.sor_opt||(r.sor_opt=a?n.cloneData(t||{}):n.cloneData(n.copySourceOpt(t)));var o=n.cloneData(t),i=n.getOptVal(o,["bind"],""),s=n.getOptVal(o,["value"],"");r.returnVal=s,r.htmObj=[],n.isUndefined(o.value)&&(o.value=""),r.obj_val_is_node=!1,r.obj_opt_has_kuohao=!1;var l=!1;return Object.defineProperty(r,"value",{get:function(){return r.returnVal},set:function(e){$.isArray(e)&&(e=e.join(",")),r.returnVal=e,r.moveBtnByVal(e)}}),r.formatVal=function(e){var t,a=n.getOptVal(e,["data"],{}),t=n._onFormatVal(r,a,s);r.returnVal=t,s!=t&&(l=!0);var o=1==r.obj_opt_has_kuohao;i&&o&&n.updateBindObj($.trim(i),t,[r]),l&&r.lazyCall&&r.lazyCall(r,a,n.livingObj),r.moveBtnByVal(t)},r.extend({renew:function(e){if(e){var t=n.isUndefined(e.value)?"":e.value,a=!n.isUndefined(e.data);n.optionDataFrom(r,e);var i=e.icon||{},s=e.moving||null,l=e.direction||"x",u=e.mouse_up||e.mouseup||e.mouseUp||null,d=n.isUndefined(e.max)?null:e.max,c=n.isUndefined(e.min)?null:e.min,p=n.isUndefined(e.dec)?null:e.dec;d=n.toNumber(d),c=n.toNumber(c),i.class_extend="icon";var f=i["min-left"]||i.min_left||i.minLeft||0,m=i["min-top"]||i.min_top||i.minTop||("x"==l?-2:-1);i.left=n.toNumber(f)+"px",i.top=parseFloat(m)+"px",i.width=n.isUndefined(i.width)?30:i.width;var v=n.makeSpan(i);e.class_extend="diy_bar",e.style="border:1px solid #ddd",r.html("").append(v),r.moveBtnByVal=function(e){var t=n.toNumber(v.outerWidth()),a=n.toNumber(r.width),o=a-t-2,i=n.toNumber(v.outerHeight()),s=r.outerHeight()-i-2;if("x"==l){var u=e/d*a;f&&(u=Math.max(u,f)),o&&(u=Math.min(u,o)),v.css("left",u)}else{var c=e/d*barHeight;m&&(c=Math.max(c,m)),s&&(c=Math.min(c,s)),v.css("top",c)}};var b=n.getOptVal(e,["click"],null);e.click=function(t,a){if(a.target===t[0]){var o,i="";if("x"==l){var s=n.toNumber(v.outerWidth(!0)),u=n.toNumber(r.width);i=a.clientX-t.offset().left,i-=s/2,i+s>u-2&&(i=u-s-2),i<f&&(i=f),o=[i,0],v.css("left",i)}else{var d=n.toNumber(v.outerHeight(!0)),c=n.toNumber(r.height);i=a.clientY-t.offset().top,i-=d/2,i+d>c-2&&(i=c-d-2),i<m&&(i=m),o=[0,i],v.css("top",i)}o=r.countVal(o);var p="x"==l?o[0]:o[1];!n.isUndefined(e.bind)&&e.bind&&n.updateBindObj($.trim(e.bind),p,[bar]),r.returnVal=p,b&&b(t,p,a)}},n.strObj.formatAttr(this,e,0,a),setTimeout(function(){-1==n.strInArray(l,["x","y"])&&(l="x");var a=i.width||v.outerWidth();a=n.toNumber(a);var b=i.height||v.outerHeight();b=n.toNumber(b);var g;g="x"==l?i.height||b:o.height||r.outerHeight(),g=n.toNumber(g);var h=o.width||r.outerWidth();h=n.toNumber(h),r.countVal=function(e){var t,r;return d||(d=h),"x"==l?(t=parseFloat(e[0]),r=d*(t-f)/(h-a-2),r=n.formatFloat(r,p),r<c&&(r=c),r>d&&(r=d),e[0]=r):(t=parseFloat(e[1]),r=d*(t-f)/(g-b-2),r=n.formatFloat(r,p),r<c&&(r=c),r>d&&(r=d),e[1]=r),e};var _=function(t,a,o){t=r.countVal(t);var i="x"==l?t[0]:t[1];!n.isUndefined(e.bind)&&e.bind&&n.updateBindObj($.trim(e.bind),i,[bar]),r.returnVal=i,s&&s(t,a,o)},y=function(t,a,o){t=r.countVal(t);var i="x"==l?t[0]:t[1];!n.isUndefined(e.bind)&&e.bind&&n.updateBindObj($.trim(e.bind),i,[bar]),r.returnVal=i,u&&u(t,a,o)},j=r.outerHeight()-b-2,O=h-a-2;O<f&&(O=f);var x={min_top:m,min_left:f,max_left:O,max_top:j,draging:function(e){_(e,v,r)},dragup:function(e){y(e,v,r)}};if(v.Drag("","",x),!n.isUndefined(e.bind)&&e.bind){var k=n.getObjData($.trim(e.bind));""===k&&(k=t),r.moveBtnByVal(k)}else t&&n.isNumber(t)&&r.moveBtnByVal(t)},20)}},cloneSelf:function(){var e=n.cloneData(r.sor_opt);return n.makeBar(e,!0)},updates:function(e,t){if(t=t||[],i&&-1==$.inArray(this,t)){t.push(this);var a=n.getObjData($.trim(i));r.returnVal=a,r.moveBtnByVal(a)}r.bind_attrs&&r.bind_attrs[e]&&n.renewObjBindAttr(this,e)}}),r.renew(o),n.optionGetSet(r,o),n.objBindVal(r,o),n.addCloneName(r),r},t}),define("rili",["require"],function(e){var t={};return t.makeRili=function(a,n){var r=e("core");n=n||!1;var o=$("<div></div>");o.sor_opt||(o.sor_opt=n?cloneData(a):cloneData(copySourceOpt(a)));var i=$('<input class="diy_input" type="text" autocomplete="off">');o.append(i),o.obj_opt_has_kuohao=!1;var s=cloneData(a),l=getOptVal(s,["bind"],""),u=getOptVal(s,["value"],"");o.extend({renew:function(){function e(e){e=e||"",e=$.trim(e);var t,a,n=0;if(e&&0!=e&&/\d{4}-\d{1,2}-\d{1,2}/.test(e)){e=e.replace(/\/|\./g,P),e=e?e.split(" ")[0]:"";var r=e.split(P);t=r[0],a=r[1],a=a>12?12:a,a||(a=1),n=r[2],n=n>31?31:n}else t=D.getFullYear(),a=D.getMonth()+1,n=D.getDay(),-1==strInArray(t,U)&&(t=U[0]);return[t,a,n]}function a(e,t,a){return new Date(e,t-1,a).getDay()}function n(){var e=[];return e.push(w.value),e.push(w.son.value),e}function d(e,t,s){function l(e){var t=!1;return 0!=e%4||e%100==0&&e%400!=0||(t=!0),t}w.value=e,w.son.value=t;var u="<tr class='day_tr'>",c=a(e,t,1);if(7!=c)for(var p=0;p<c;p++)u+="<td></td>";for(var f,m=1;m<function(e,t){var a=[31,28,31,30,31,30,31,31,30,31,30,31][t-1];return 2==t&&l(e)&&a++,a}(e,t)+1;m++)f=s==s&&m==s&&m==s?" current":"",$(this).addClass("current"),u+='<td data-value="'+m+'"> <span class="day'+f+'">'+m+"</span></td>",6==a(e,t,m)&&(u+="</tr>",u+="<tr class='day_tr'>");u+="</tr>",u+="</table>",o._rlMenu.find(".day_tr").length>0&&o._rlMenu.find(".day_tr").remove(),o._rlMenu.find(".week_tr").after($(u));var v=[];o._rlMenu.find(".day").off().on("click",function(){v=[];var e=$(this).text();$(this).addClass("current");var t=n();t.push(e);var a=t.join(P);i.val(a),o.callRenewRiliBind(a),o._rlMenu.hide(),A&&A(a,o,r.livingObj)}),o._rlMenu.find(".last_month_btn").off().on("click",function(){var e=n(),t=e[0],a=e[1];1==a?(t-=1,a=12):a-=1,d(t,a,s)}),o._rlMenu.find(".next_month_btn").off().on("click",function(){var e=n(),t=e[0],a=e[1];12==a?(++t,a=1):++a,d(t,a,s)});var b=o.offset();o._rlMenu.css({display:"block",left:b.left,top:b.top+o.outerHeight()})}var c=getOptVal(s,["text"],{}),p=getOptVal(c,["year"],"年"),f=getOptVal(c,["month"],"月"),m=getOptVal(c,["week"],[]),v=isUndefined(m[0])?"日":m[0],b=isUndefined(m[1])?"一":m[1],g=isUndefined(m[2])?"二":m[2],h=isUndefined(m[3])?"三":m[3],_=isUndefined(m[4])?"四":m[4],y=isUndefined(m[5])?"五":m[5],j=isUndefined(m[6])?"六":m[6],O=isUndefined(s.value)?"":s.value,x=isUndefined(s.year_menu_width)?"228px":s.year_menu_width,k=isUndefined(s.month_menu_width)?"113px":s.month_menu_width,A=getOptVal(s,["onChose","chose"],null),V=getOptVal(s,["ymSize","ym_size","size"],"normal");s.year_menu_width=isUndefined(s.year_menu_width)?390:s.year_menu_width,s.month_menu_width=isUndefined(s.month_menu_width)?180:s.month_menu_width;for(var w,D=new Date,S=D.getFullYear(),N=D.getDay(),C=isUndefined(s.from_year)?S-40:s.from_year,I=isUndefined(s.to_year)?S+10:s.to_year,P="-",U=[],B=[],F=C;F<=I;F++)B.push({value:F,title:F}),U.push(F);strHasKuohao(u)||i.val(u),o._rlMenu=$('<div class="calendar_menu"></div>'),$("body").append(o._rlMenu),o.formatVal=function(e){e=e||[];var t=getOptVal(e,["data"],{}),a=_onFormatVal(o,t,u);$.isArray(a)&&(a=a.join(",")),i.val(a),o.callRenewRiliBind(a)},o.callRenewRiliBind=function(e){isUndefined(e)?e=o.value:o.value=e;var t=1==o.obj_opt_has_kuohao;if(l&&t){var a=[];a.push(o),updateBindObj(l,e,a),!o.bind_attrs||objIsNull(o.bind_attrs)||isUndefined(o.bind_attrs[l])||r.renewObjBindAttr(o,l)}},optionDataFrom(o,s);var z=!1;o._rlMenu.on({mouseenter:function(){z=!0},mouseleave:function(){z=!1}}),i.on({blur:function(){z?i.focus():setTimeout(function(){o._rlMenu.hide(),w.menu.hide(),w.son.menu.hide()},100)},click:function(t){if(!$(this).hasClass("lrXX")){var a=e(o.value);d(a[0],a[1],a[2]),a[0]&&(w.value=a[0]),a[1]&&(w.son.value=a[1]),o._rlMenu.show()}},change:function(t){var a=e($(this).val());d(a[0],a[1],a[2])}}),function(){for(var a=[],r=1;r<=12;r++)a.push({value:r,title:r});for(var i='<table class="calendar_table" cellspacing="0" cellpadding="0" border="0"><tr class="tr_"><td><span class="last_month_btn pre_next_btn"> <span class="icon"> </span>  </span></td><td colspan="5" class="show_year_month_box"> </td><td><span class="next_month_btn pre_next_btn" style="cursor:hand;"> <span class="icon"> </span> </span></td></tr><tr class="week_tr">',s=[v,b,g,h,_,y,j],r=0;r<s.length;r++)i+="<td>"+s[r]+"</td>";i+="</tr></table>",o._rlMenu.append($(i));var l,u;if(l=S,u=D.getMonth(),O){var c=e(O);l=c[0],u=c[1],N=c[2]}-1==strInArray(l,U)&&(l=U[0]),w=t.makeSelect({value_key:"value",title_key:"title",menu:{width:x,data:B},default_text:l,value:l+"",size:V,menuOpen:function(e){console.log("click_year"),w.son.menu.hide()},li:{value:"{title}",click:function(e,t,a){var r=n();d(e.attr("data-value"),r[1],N)}},son:{menu:{width:k,data:a},menuOpen:function(){console.log("click_month"),w.menu.hide()},value_key:"value",title_key:"title",li:{value:"{title}",width:"25px",click:function(e,t,a){d(n()[0],e.attr("data-value"),N)}},size:V,default_text:u,value:u+""}}),o._rlMenu.find(".show_year_month_box").append(w).append("&nbsp;"+p+"&nbsp;").append(w.son).append("&nbsp;"+f+"&nbsp;"),o._rlMenu.find(".tr_").click(function(e){w.menu.hide(),w.son.menu.hide()})}()},cloneSelf:function(){var e=cloneData(o.sor_opt);return t.makeRili(e,!0)},updates:function(e,t){var a=getObjData($.trim(l));i.val(a),o.value=a,o.bind_attrs&&o.bind_attrs[e]&&r.renewObjBindAttr(this,e)}}),optionGetSet(o,s),o.renew();var d=!isUndefined(s.data);return strObj.formatAttr(o,s,0,d),objBindVal(o,s),addCloneName(o),o},t}),define("page",["require"],function(e){var t={};return t.makePage=function(a,n){var r=e("core");a=a||{},n=n||!1;var o=r.cloneData(a),i=$("<ul></ul>"),s=r.getOptVal(o,["bind"],"");return i.sor_opt||(i.sor_opt=n?r.cloneData(a||{}):r.cloneData(r.copySourceOpt(a))),i.current_page=1,i.totalPage=0,i.fromPage=0,i.toPage=0,i.gotoPage="",i.gotoPageObj=null,i.setPageSize=null,i.noNeedEven=!0,Object.defineProperty(i,"page",{get:function(){return parseInt(this.current_page)},set:function(e){this.setPage(e)}}),Object.defineProperty(i,"page_size",{get:function(){return parseInt(o.pageSize)},set:function(e){i.setPageSize&&i.setPageSize(e)}}),Object.defineProperty(i,"pageSize",{get:function(){return parseInt(o.pageSize)},set:function(e){i.setPageSize&&i.setPageSize(e)}}),i.extend({setPage:function(e,t){if(!(e>i.totalPage)){t=t||[],s&&(-1==$.inArray(this,t)&&t.push(this),r.updateBindObj($.trim(s),e,t));var a=i.find("li[data-page='"+e+"']");0==a.length||e-i.fromPage<=2||e-i.fromPage>=i.pageBtnNum-2?(o.page=e,this.renew(o)):a.addClass("active").siblings(".active").removeClass("active"),i.current_page=e}},renew:function(e){e=e||{},e=$.extend({},a,e);var t=!r.isUndefined(e.data),n={page:1,pageSize:10,pagenum:5,size:"md",total:1},s=e.data||{},l=r.getOptVal(e,["pagesize","page_size","pageSize"],10),u=r.getOptVal(e,["pagenum","pageNum"],5),d=r.getOptVal(e,["type"],"default"),c=r.getOptVal(e,["goto"],null),p=r.getOptVal(e,["selectPageSize","select_page_size"],null),f=r.getOptVal(e,["class"],""),m=r.getOptVal(e,["click"],null);e.page=e.page||1,e.btnSize=e.size&&r.setSize(e.size)?e.size:"md",l=parseInt(r.formatIfHasKuohao(l,s)),u=parseInt(u),u||(u=5),e.btnSize=r.formatIfHasKuohao(r.getOptVal(e,["btnSize"],"sm"),s),-1!=r.strInArray(e.btnSize,["sm","small","s"])?e.btnSize="sm":-1!=r.strInArray(e.btnSize,["x","xs"])?e.btnSize="xs":-1!=r.strInArray(e.btnSize,["x","xs"])?e.btnSize="xs":-1!=r.strInArray(e.btnSize,["m","md","middle","normal"])?e.btnSize="md":-1!=r.strInArray(e.btnSize,["l","lg","large","big"])&&(e.btnSize="lg"),e.page=parseInt(r.formatIfHasKuohao(r.getOptVal(e,["page"],1),s)),e.total=parseInt(r.formatIfHasKuohao(r.getOptVal(e,["total"],0),s)),r.delProperty(e,["pagesize","page_size"]),e.pageSize=l,e=$.extend({},n,e);var v="pagination";f&&(v=f);var b=e.btnSize||"";r.sizeIsXs(b)?v+=" pagination-xs":r.sizeIsSm(b)?v+=" pagination-sm":r.sizeIsMd(b)?v+=" pagination-md":r.sizeIsLg(b)&&(v+=" pagination-lg"),e.class_extend=v;var g=$.extend({},e);r.delProperty(g,["click"]),i.attr("class",e.class_extend),r.optionDataFrom(i,e);var h=parseInt(e.page),l=parseInt(l);l<1&&(l=1);var _=parseInt(e.total),y=_/l;if(-1!=y.toString().indexOf(".")&&(y=parseInt(y)+1),h>y&&(h=y),i.current_page=h,i.totalPage=y,i.pageBtnNum=u,i.empty(),"default"==d)var j=$('<li><a href="javascript: void(0)" target="_self">&laquo;</a></li>');else if("btn"==d)var j=$('<li><a href="javascript: void(0)" target="_self" class="endPage"> &lt; </a></li>');j.on("click",function(e){var t=i.current_page,a=parseInt(t)-1;a<1||(i.gotoPage="",i.gotoPageObj&&i.gotoPageObj.val(""),i.setPage(a))}),i.append(j),i.fromPage=h-parseInt(u/2);var O;i.fromPage<1?(i.fromPage=1,O=i.fromPage+u):O=i.fromPage+u;var x,k;i.fromPage<1&&(i.fromPage=1),O>y&&(O=y),O==y&&(O=y+1),i.fromPage==O&&(i.fromPage=1),1==i.fromPage&&j.remove(),h>O&&(i.fromPage=h-1,O+=u,i.fromPage<1&&(i.fromPage=1),O>y&&(O=y));var A=0;for(x=i.fromPage;x<O;x++){if(A>=u){O=A;break}k=$('<li data-page="'+x+'"></li>'),k.append('<a href="javascript: void(0)" target="_self">'+x+"</a>"),h==x&&k.addClass("active"),k.on("click",function(e){var t=$(this),a=t.attr("data-page");i.setPage(a),i.gotoPage="",i.gotoPageObj&&i.gotoPageObj.val(""),m&&m(k,a,i)}),i.append(k),A++}if("default"==d){var V=$('<li><a href="javascript: void(0)" target="_self"> &raquo; </a></li>');V.off().on("click",function(e){var t=i.current_page,a=parseInt(t)+1;a>y||(i.gotoPage="",i.gotoPageObj&&i.gotoPageObj.val(""),i.setPage(a))}),i.append(V),r.strObj.formatAttr(i,e,0,t)}else if("btn"==d){var w=i.current_page,D=w==y||O>=y?null:$('<li><a href="javascript: void(0)" target="_self" class="endPage"> ... </a></li>'),S=w==y||O>=y?null:$('<li><a href="javascript: void(0)" target="_self"> '+y+" </a></li>"),V=$('<li><a href="javascript: void(0)" target="_self" class="endPage"> &gt; </a></li>');S&&S.off().on("click",function(e){i.setPage(y)}),V.off().on("click",function(e){var t=i.current_page,a=parseInt(t)+1;a>y||(i.gotoPage="",i.gotoPageObj&&i.gotoPageObj.val(""),i.setPage(a))}),D&&i.append(D),S&&i.append(S),V&&i.append(V)}if(O>=y&&V.remove(),c){var N=$('<li><a><input class="togoPage" placeholder="Goto" /></a></li>'),C=N.find(".togoPage");i.gotoPage&&C.val(i.gotoPage),C.off().on("blur",function(e){var t=parseInt($(this).val());!t||t<1||t>y||(i.gotoPage=t,t>y&&(t=y),i.setPage(t))}),i.gotoPageObj=C,-1!=r.strInArray(c,["r","right"])?i.append(N):-1!=r.strInArray(c,["l","left"])&&i.prepend(N)}if(p){var I=r.getOptVal(p,["onchange","onChange"],null),P=r.getOptVal(p,["text","defaultText"],"Num"),U=r.getOptVal(p,["class"],"default"),B=$('<li class="selectPageSize"><button type="button" class="btn btn-'+e.btnSize+" "+U+'"> <span class="defaultText">'+l+'</span> <span class="caret"></span>\n</button></li>'),F=r.getOptVal(p,["value","values","val","list"],[10,20,30,40,50,100,200]),z=r.getOptVal(p,["dir"],"down");-1==r.strInArray(z,["down","up","d","u"])&&(z="down");var E=$('<ul class="sizeMenu"></ul>');-1!=r.strInArray(z,["down","d"])?E.addClass("showDown"):E.addClass("showUp");var T=[];$.each(F,function(e,t){T.push('<li><a tabindex="-1" href="javascript: void(0);" target="_self" data-val="'+t+'">'+t+"</a></li>")}),E.append(T),B.append(E);var R=B.find(".btn");R.find(".defaultText").attr("title",P),i.setPageSize=function(e){o.pageSize=e,R.find(".defaultText").html(e)},R.on({focus:function(e){E.show()},blur:function(e){setTimeout(function(){E.hide()},160)}}),E.find("li a").on("click",function(e){var t=parseInt($(this).attr("data-val"));isNumber(t)&&t||(t=10),i.setPageSize(t),E.hide(),i.renew(o),I&&I(t,e,i)}),i.append(B)}},renewPageData:function(e){var t=r.cloneData(o);t.data=e,this.renew(t)},cloneSelf:function(){var e=r.cloneData(obj.sor_opt);return t.makePage(e,!0)},updates:function(e,t){t=t||[],s&&-1==$.inArray(this,t)&&(t.push(this),this.setPage(getObjData($.trim(s)),t)),this.bind_attrs&&this.bind_attrs[e]&&-1!=r.strInArray("page",this.bind_attrs[e])&&this.setPage(getObjData(e))}}),r.objBindVal(i,o),i.renew(o),r.optionGetSet(i,o),i},t}),define("editor",["require"],function(e){var t={};return t.makeEditor=function(a,n){var r=e("core");a=a||{},n=n||!1;var o=$('<textarea id="'+u+'"></textarea>');o.sor_opt||(o.sor_opt=n?r.cloneData(a||{}):r.cloneData(r.copySourceOpt(a)));var i=r.cloneData(a),s=r.getOptVal(i,["bind"],""),l=r.getOptVal(i,["value"],""),u=r.getOptVal(i,"id","editormd"),d=r.isUndefined(i.type)?"uEditor":i.type,c=r.getOptVal(i,["editorOpt","editorOption"],{}),p=r.isUndefined(i.editorObj)?"editor":i.editorObj;o.tag="editor",o.obj_val_is_node=!1;var f=!0;return o.formatVal=function(e){e=e||[];var t=r.getOptVal(e,["data"],{}),a=r._onFormatVal(o,t,l),n=r.isUndefined(e.editorObj)?"editor":e.editorObj;e.value=a,o.renewVal(a),l!=a&&(f=!0);var i=1==o.obj_opt_has_kuohao;s&&i&&r.updateBindObj($.trim(s),a,[o]),f&&o.lazyCall&&o.lazyCall(o,t,livingObj),o[n]&&o[n].setContent&&o[n].setContent(a),o.formatPlugs(e)},o.renewVal=function(e){o.val(e)},o.formatPlugs=function(e){var t;if(-1!=r.strInArray(d,["kind","kindEditor"]))return void setTimeout(function(){var e={resizeType:1,allowPreviewEmoticons:!1,allowImageUpload:!1,items:["fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","removeformat","|","justifyleft","justifycenter","justifyright","insertorderedlist","insertunorderedlist"]};e=$.extend({},e,c),t=KindEditor.create(o,e),o.hasOwnProperty("value")||Object.defineProperty(o,"value",{get:function(){return t.text()},set:function(e){return t.text(e)}}),o[p]=t},10);setTimeout(function(){
if(-1!=r.strInArray(d,["xheditor","xhEditor","xh"]))t=o.xheditor({plugins:{Code:{c:"btnCode",t:"插入代码",h:1,e:function(){var e=this,t="<div>编程语言<select id='xheCodeType'><option value='html'>HTML/XML</option><option value='js'>Javascript</option><option value='css'>CSS</option><option value='php'>PHP</option><option value='java'>Java</option><option value='py'>Python</option><option value='pl'>Perl</option><option value='rb'>Ruby</option><option value='cs'>C#</option><option value='c'>C++/C</option><option value='vb'>VB/ASP</option><option value=''>其它</option></select></div><div>";t+="<textarea id='xheCodeValue' wrap='soft' spellcheck='false' style='width:300px;height:100px;' />",t+="</div><div style='text-align:right;'><input type='button' id='xheSave' value='确定' /></div>";var a=$(t),n=$("#xheCodeType",a),r=$("#xheCodeValue",a);$("#xheSave",a).click(function(){return e.loadBookmark(),e.pasteHTML('<pre class="prettyprint lang-'+n.val()+'">'+e.domEncode(r.val())+"</pre> "),e.hidePanel(),!1}),e.saveBookmark(),e.showDialog(a)}}},tools:"Link,Unlink,Source,Removeformat,Code,Img,|Fullscreen",skin:"nostyle"}),o.hasOwnProperty("value")||Object.defineProperty(o,"value",{get:function(){return o.val()}}),o[p]=t;else if(-1!=r.strInArray(d,["uEditor","ueditor"])){UE.delEditor(u);var a=[["fullscreen","source","|","undo","redo","|","bold","italic","underline","fontborder","strikethrough","removeformat","formatmatch","autotypeset","blockquote","pasteplain","insertimage","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","|","rowspacingtop","rowspacingbottom","lineheight","|","customstyle","paragraph","fontfamily","fontsize","link","unlink","horizontal","spechars","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","charts","|","print","preview","searchreplace","drafts","help"]],n=r.getOptVal(e,["toolbars"],a);t=UE.getEditor(u,{toolbars:n}),o.hasOwnProperty("value")||Object.defineProperty(o,"value",{get:function(){return t.getContent()}}),o[p]=t,o[p].pasteHTML=function(e){t.setContent(e,!0)}}else if(-1!=r.strInArray(d,["umEditor","umeditor"])){UM.delEditor(u);var a=["fullscreen","source","undo","redo","bold","italic","underline","fontborder","strikethrough","superscript","subscript","removeformat","formatmatch","autotypeset","blockquote","pasteplain","|","forecolor","backcolor","insertorderedlist","insertunorderedlist"],n=r.getOptVal(e,["toolbars","toolbar"],a);t=UM.getEditor(u,{toolbar:n}),o.hasOwnProperty("value")||Object.defineProperty(o,"value",{get:function(){return t.getContent()}}),o[p]=t,o[p].pasteHTML=function(e){t.setContent(e,!0)}}else if(-1!=r.strInArray(d,["editormd","editorMd"])){var i={width:"100%",height:540,syncScrolling:"single",toolbarIcons:function(){return["bold","quote","h3","del","link","list-ul","list-ol","code","preformatted-text","code-block","table","datetime","hr","|","file","||","watch","preview"]},path:"../lib/"};c&&(i=$.extend({},i,c)),u=r.isUndefined(c.id)?"editormd":c.id,t=editormd(u,i),o.hasOwnProperty("value")||Object.defineProperty(o,"value",{get:function(){return t.markdownTextarea.val()},set:function(e){t.setValue(e)}}),o[p]=t,o[p].pasteHTML=function(e){t.setValue(e)}}},1)},o.extend({renew:function(e){e=e||{};var t=!r.isUndefined(e.data);e.placeholder=r.getOptVal(e,["place","placeholder"],""),r.isUndefined(e.value)&&(e.value="");var a=e.value||"";r.strHasKuohao(a)&&(f=!1),o.val(a),r.optionDataFrom(o,e),"text"==d&&(e.class=r.isUndefined(e.class)?"form-control":e.class+" form-control",o.hasOwnProperty("value")||Object.defineProperty(o,"value",{set:function(e){return o.val(e)},get:function(){return o.val()}}),o[p]=o,o[p].pasteHTML=function(e){o.val(e)}),r.strObj.formatAttr(o,e,0,t)},updates:function(e,t){t=t||[],s&&-1==$.inArray(this,t)&&(t.push(this),this.renewVal(r.getObjData($.trim(s)))),o.bind_attrs&&o.bind_attrs[e]&&r.renewObjBindAttr(this,e)},cloneSelf:function(){var e=r.cloneData(o.sor_opt);return t.makeEditor(e,!0)}}),o.renew(i),r.optionGetSet(o,i),r.objBindVal(o,i),r.addCloneName(o),r.addTimer(o),o},t}),define("core",["jquery","table","form","list","input","str","items","select","tree","img","radio","checked","switch","bar","rili","page","editor"],function($,table,form,list,input,str,items,select,tree,img,radio,checked,switched,bar,rili,page,editor){function isAbcJhk(e){return/^{\s*[\.a-zA-Z0-9_]+\s*}$/.test(e)}function isNumber(e){return/^[\+\-0-9.]+$/.test(e)}function isObj(e){return"object"==typeof e}function isString(e){return"string"==typeof e}function isStrOrNumber(e){return isString(e)||isNumber(e)}function trim(e,t){if(isBoolean(e))return e;if(e=e||" ",t=t||" ",isObj(e))return e;if(isNumber(e))return e;var a=t.length;return e.substr(0,a)==t&&(e=e.substr(a)),e.substr(e.length-a,a)==t&&(e=e.substr(0,e.length-a)),e}function toNumber(e){var t=parseFloat(e);return isNaN(t)?e:t}function isBoolean(e){return"boolean"==typeof e}function htmlDecode(e){if(isObj(e))return e;var t="";return e&&0!=e.length?isBoolean(e)?e:isNumber(e)?e:(e.replace||(console.log("str no suppose replace:"),console.log(e)),t=e.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"')):""}function uniqueArray(e){return e=e||[],jQuery.unique(e.sort())}function regCodeAddGang(e){return e?(e=e.replace(/\:/g,"\\:"),e=e.replace(/\?/g,"\\?"),e=e.replace(/\+/g,"\\+"),e=e.replace(/\^/g,"\\^"),e=e.replace(/\(/g,"\\("),e=e.replace(/\)/g,"\\)"),e=e.replace(/\*/g,"\\*"),e=e.replace(/\$/g,"\\$"),e=e.replace(/\[/g,"\\["),e=e.replace(/\]/g,"\\]"),e=e.replace(/\{/g,"\\{"),e=e.replace(/\}/g,"\\}"),e=e.replace(/\|/g,"\\|"),e=e.replace(/\=/g,"\\="),e=e.replace(/\\\\/g,"\\\\\\")):""}function attrIsEven(e){var t=!1;return evenTags.forEach(function(a){a.split("||").forEach(function(a){if((a=$.trim(a))==e)return t=!0,!1})}),t}function copyEvens(e,t){return $.each(e,function(a,n){attrIsEven(a)&&(t[a]=e[a])}),t}function cutOptEvens(e){var t={},a={};return $.each(e,function(e,n){attrIsEven(e)?t[e]=n:a[e]=n}),[t,a]}function clearYinhao(e){return isObj(e)?e:isBoolean(e)?e:isNumber(e)?e:(e=e.replace(/'([^']*)'/g,"''"),e.replace(/"([^"]*)"/g,'""'))}function encodeNewHtml(e){return isObj(e)?e:isBoolean(e)?e:isNumber(e)?e:(e=e.replace(/\\\"/g,yinhaofNewhass),e=e.replace(/\\\'/g,yinhaofNewhasd),e=e.replace(/'/g,yinhaoNewhasd),e=e.replace(/"/g,yinhaoNewhass),e=e.replace(/\(/g,kuohaoNewhasl),e=e.replace(/\)/g,kuohaoNewhasr))}function yinhaogTH(e){return isObj(e)?e:isBoolean(e)?e:isNumber(e)?e:(e=e.replace(/\\\'/g,yinhaofNewhasd),e=e.replace(/\\\"/g,yinhaofNewhass))}function decodeNewHtml(e){return isObj(e)?e:isBoolean(e)?e:isNumber(e)?e:(e=e.replace(RegExp(regCodeAddGang(yinhaoNewhasd),"g"),"'"),e=e.replace(RegExp(regCodeAddGang(yinhaoNewhass),"g"),'"'),e=e.replace(RegExp(regCodeAddGang(yinhaofNewhass),"g"),'\\"'),e=e.replace(RegExp(regCodeAddGang(yinhaofNewhasd),"g"),"\\'"),e=e.replace(RegExp(regCodeAddGang(kuohaoNewhasl),"g"),"("),e=e.replace(RegExp(regCodeAddGang(kuohaoNewhasr),"g"),")"))}function getCloneType(e){return $.isArray(e)?[]:{}}function isUndefined(e){return void 0===e}function isOurObj(e){return!!e&&e.hasOwnProperty("sor_opt")}function objIsNull(e){return!!e&&0==Object.keys(e).length}function strInArray(e,t){var a=-1;return $.each(t,function(t,n){if(n==e)return a=t,!1}),a}function hasStrs(e,t){var a=-1;return $.each(t,function(t,n){if(-1!=e.indexOf(n))return a=t,!1}),a}function hasData(e){return!(null==e||!e)&&("object"==typeof e&&(Array.isArray(e)?e.length>0:!objIsNull(e)))}function getJhksAbc(e){if(!e)return"";var t=e.match(/{([a-zA-Z_]+[a-zA-Z_\d.]*)}/g);if(t){var a=[];return t.forEach(function(e){a.push(e.replace(/\{|\}/g,""))}),a}return""}function noCacheImg(e){return e?-1!=e.indexOf("?")?-1!=e.indexOf("?lr_radom")?e+=e.split("?lr_radom")[0]+"?lr_radom="+makeRandomInt(22):-1!=e.indexOf("&lr_radom")?e+=e.split("&lr_radom")[0]+"&lr_radom="+makeRandomInt(22):e+="&lr_radom="+makeRandomInt(22):e+="?r_="+makeRandomInt(22):""}function replace3yuanYinhao(e){if(regYufa3YuanSet.test(e)){var t=e.match(regYufa3YuanSet);t.splice(0,1);var a=[];return $.each(t,function(e,t){if(0==e)return void(a[e]=t);var n=trim(t," ");n=trim(n,'"'),n=trim(n,"'"),a[e]=n.replace(/"/g,'\\"')}),a[0]+' ? "'+a[1]+'" : "'+a[2]+'"'}return e}function addObjAttrToBindVal(e,t,a){isUndefined(e[objBindAttrsName])&&(e[objBindAttrsName]={});var n=e[objBindAttrsName],r=isUndefined(n[a])?[]:n[a];-1==$.inArray(t,r)&&(r.push(t),e[objBindAttrsName][a]=r,objAddListener(e,a,""))}function formatIfHasKuohao(e,t){return strHasKuohao(e)?strObj.formatStr(e,t):e}function getOptNeedParentKey(e){return getOptVal(e,["need_parent_key","needParentKey"],"")}function getCallData(e){var t=getOptVal(e,["successkey","success_key","successKey"],null),a=getOptVal(e,["successfunc","success_func","successFunc"],null),n=getOptVal(e,["successval","success_val","success_value","successVal","successValue"],null),r=getOptVal(e,["failfunc","fail_func","failFunc","errfunc","err_func","errFunc","errorfunc","error_func","errorFunc"],null);return isNumber(n)&&(n+=""),{successKey:t,successValue:n,successFunc:a,errorFunc:r}}function classAddSubClass(e,t,a,n){if(n=n||" ",strHasKuohao(e)&&(e=""),strHasKuohao(t)&&(t=""),a=a||!1,e=e||"",!(t=t||""))return e;var r=[];if(e&&(r=e.split(n)),-1!=t.indexOf(n))t.split(n).forEach(function(e){var t=$.inArray(e,r);a?-1==t&&r.push(e):-1!=t&&r.splice(t,1)});else{var o=$.inArray(t,r);a?-1==o&&r.push(t):-1!=o&&r.splice(o,1)}var i=$.trim(r.join(n));return i=trim(i,n)}function isHtml(e){return/<[^>]+>/g.test(e)}function strHasKuohao(e,t){if("string"!=typeof e)return!1;t=t||null;var a,n,r,o;return a=/{[^\}]+}/g,n=/{{[^\}]+}}/g,t?"data"==t?a.test(e):n.test(e):(r=a.test(e),o=n.test(e),r||o)}function setTextContent(e,t){function a(e,t){t||(t=""),isStrOrNumber(t)||(t=t.toString());var a=t;if(e.textContent="",e.htmlObj&&$(e.htmlObj).remove(),isHtml(a)){var n=$("<span></span>");n.append(t),e.htmlObj=n,$(e).after(n)}else isNumber(t)&&(e.setNumber=t),e.textContent=t}$.isArray(e)?e.forEach(function(e){a(e.obj,t)}):a(e,t)}function updateNodeText(e,t){setTextContent(e.nodeObj,getObjData(t))}function getObjHtmlNode(e,t,a){for(var n,r=document.createDocumentFragment();n=t.firstChild;)!function(t,a){if(1===t.nodeType){for(var n=t.attributes,r=!1,o={obj:t,attrs:[]},i=0;i<n.length;i++)strHasKuohao(n[i].nodeValue)&&(r=!0,o.attrs.push({name:n[i].nodeName,text:n[i].nodeValue}));r&&e.htmObj.push(o),t.appendChild(getObjHtmlNode(e,t,a))}3===t.nodeType&&e.nodeObj.push({text:t.nodeValue,obj:t})}(n,a),r.appendChild(n);return r}function formatObjNodesVal(e,t,a){var n=[],r={},o=e.sor_opt;t&&(n=cloneData(t)),e.nodeObj&&e.nodeObj.length>0&&($.each(e.nodeObj,function(t,i){var s=i.text,l=i.obj;strHasKuohao(s)&&(e[objAttrHasKh]=!0);var u=s;(a||strHasKuohao(s,"public"))&&(u=strObj.formatStr(s,n,t,e,"value"),isUndefined(o.onFormat_value)||(r={func:o.onFormat_value,val:u,data:n})),isString(u)&&(u=htmlDecode(u)),s!==u&&setTextContent(l,u)}),hasData(r)&&r.func(e,r.val,r.data)),e.htmObj.forEach(function(t){for(var a=t.obj,r=t.attrs,o=0;o<r.length;o++){var i=r[o].text;strHasKuohao(i)&&(e[objAttrHasKh]=!0);var s=strObj.formatStr(i,n);i!=s&&a.setAttribute(r[o].name,s)}})}function optionAddData(e,t){var a=getOptVal(e,"data",{}),n=!1,r={};return isStrOrNumber(a)?(r=strObj.formatStr(a,t),r||console.log("!backData",a,t,r),r&&isString(r)&&(r=JSON.parse(r)),n=!0):hasData(a)?dataIsSame(a,t)||(r=t,n=!0):(r=t,n=!0),[r,n]}function setSize(e){return sizeIsXs(e)||sizeIsSm(e)||sizeIsMd(e)||sizeIsBg(e)||sizeIsLg(e)}function rePost(e,t,a){e&&$.post(e,t,a,"json")}function postAndDone(options,obj){options=options||{},obj=obj||{};var callKeys=getCallData(options),successKey=callKeys.successKey,successVal=callKeys.successValue,successFunc=callKeys.successFunc,errFunc=callKeys.errorFunc;$.isArray(successVal)||(successVal||(successVal="1"),successVal=isStrOrNumber(successVal)?successVal.split(","):successVal.toString().split(","));var postUrl=getOptVal(options,["post_url","postUrl","url"],null),postData=getOptVal(options,["post_data","postData"],null);return global.rePost(postUrl,postData,function(data){if(!data)return void console.log("post result: no data");successVal&&successKey&&(isUndefined(data[successKey])||-1==strInArray(data[successKey],successVal))?errFunc&&errFunc(data,obj,livingObj):successFunc&&(isString(successFunc)?eval(successFunc):successFunc(data,obj,livingObj))})}function createRadomName(e,t){t=t||"";var a="lr_"+e+"_"+makeRandomInt(7)+t;return global[a]?createRadomName(e):a}function canAddAttr(e){var t=!1;return styleHengAttrs.forEach(function(a){var n=new RegExp("^"+a,"gm");e.match(n)&&(t=!0)}),cantAddCssAttrs.forEach(function(a){var n=new RegExp("^"+a,"gm");e.match(n)&&(t=!0)}),-1==$.inArray(e,["value","text","show","value_key","valueKey","title_key","titleKey","text_key","textKey","click","data","hide","obj_val_is_node","need_parent_key","needParentKey","success_val","success_key","tag"])&&-1==e.indexOf("extend")&&!t}function callRewObjStringVal(e,t){e[objValIsNode]?strHasKuohao(t.value)?formatObjNodesVal(e,t.data,!isUndefined(t.data)):domAppendNode(e,t):e.formatVal&&e.formatVal(t)}function renewObjBindAttr(e,t){console.log("goto renewObj BindAttr:"),t=t||"";var a=e[objBindAttrsName]||[];if(a&&hasData(a)){var n=a[t]||[];if(n&&hasData(n)){var r,o,i={},s=$.extend({},e.sor_opt),l=s.data||makeNullData(),u=!1,d=!1,c=!1,p=!1,f=e.onFormatEven||{},m={};if(n.forEach(function(t){if(o=s[t],"value"==t)return void((isStrOrNumber(o)||$.isArray(o))&&callRewObjStringVal(e,s));r=strObj.formatStr(o,l,0,e,t),isUndefined(f["onFormat_"+t])||(m["onFormat_"+t]={func:f["onFormat_"+t],val:r,data:l}),"show"!=t&&"hide"!=t||(d=!0,("hide"!=t||"true"!=val_&&1!=val_)&&("show"!=t||"false"!=val_&&0!=val_)||(u=!0)),"disabled"==t&&(c=!("false"==val_||!val_||0==r||"0"==val_)),"checked"==t&&(p=!("false"==val_||!val_||0==val_||"0"==val_)),isStrOrNumber(r)&&canAddAttr(t)&&(i[t]=r,e.options[t]=r)}),!("class"in n)){var v=s.class;v&&(i.class=classAddSubClass(i.class,v,!0," "))}var b="";e.class_extend_true_val&&(b=e.class_extend_true_val,i.class=classAddSubClass(i.class,b,!0," ")),d&&(i.class=u?classAddSubClass(i.class,"hidden",!0," "):classAddSubClass(i.class,"hidden",!1," ")),c||(delProperty(i,"disabled"),e&&e.removeAttr("disabled")),p||(delProperty(i,"checked"),e&&e.removeAttr("checked")),hasData(i)&&e.attr(i),hasData(m)&&$.each(m,function(t,a){a.func(e,a.val,a.data)})}}}function getMouseEven(e){e=e||{};var t={};return allMouseEven.map(function(a,n){e[a]&&(t[a]=e[a])}),t}function optionGetSet(e,t,a){a=a||"value";var n=$.extend({},t);isUndefined(n.class)&&(n.class="");var r=getOptVal(t,["bind"],"");e.hasOwnProperty("options")||Object.defineProperty(e,"options",{get:function(){return t}}),e.hasOwnProperty("data")||Object.defineProperty(e,"data",{get:function(){var e=t.data;return isStrOrNumber(e)?e:cloneData(e)},set:function(a){renewObjData(e,a),t.data=a}}),$.each(n,function(n,o){e.hasOwnProperty(n)||"value"!=n&&"data"!=n&&Object.defineProperty(e,n,{get:function(){return r&&a==n?getObjData($.trim(r)):t[n]},set:function(a){console.log("set opt_:",e,n,a),t[n]=a,$.inArray(n,optionsChangeNoRenew)}})})}function optionDataFrom(e,t){function a(t,a){(a=a||null)&&(d[h]=a);var n={post_url:l,post_data:d,successFunc:function(e){u&&(e=u(e)),_(e,t)},errFunc:function(t){v&&v(t,e)}};p&&(n.successKey=p),f&&(n.successValue=f),v&&(n.errorFunc=v),postAndDone(n,e)}var n=!0;isUndefined(t.data)?isUndefined(t.data_from)&&isUndefined(t.dataFrom)||(n=!1):"string"!=typeof t.data?hasData(t.data)&&(n=!1):strHasKuohao(t.data)?n=!0:isUndefined(t.extendParentData)&&(n=!1),isUndefined(t.extendParentData)&&(t.extendParentData=n);var r=getOptVal(t,["data"],{}),o=getOptVal(t,["data_from","dataFrom"],null),i=getOptVal(t,["pageMenu","pagemenu","page_menu"],null),s=getOptVal(o,"func",null),l=getOptVal(o,"url",""),u=getOptVal(o,"dataBefore",null),d=getOptVal(o,["post_data","postData"],{}),c=getCallData(o),p=c.successKey,f=c.successValue,m=c.successFunc,v=c.errorFunc,b=getOptVal(o,["data_key","dataKey"],null),g=getOptVal(i,["data_key","dataKey"],null),h=getOptVal(i,"page_post_key","page"),_=function(t,a){var n,r;if(b)if(-1!=b.indexOf(".")){var o=b.split(".");n=t,$.each(o,function(e,t){n=isUndefined(n[t])?{}:n[t]})}else n=hasData(t[b])?t[b]:{};else n=t;if(i)if(-1!=g.indexOf(".")){var o=g.split(".");r=t,$.each(o,function(e,t){r=r[t]})}else r=hasData(t[g])?t[g]:{};var s=cloneData(n);e.data=s,i&&e.pageMenu&&(e.pageMenu.data=r),a&&a(s,e),e.lazyCall&&e.lazyCall(e,s,livingObj)};if(s)e.renewData=function(t){var a=s(e);isUndefined(a)||_(a,t)},setTimeout(function(){e.renewData()},10);else if(l){l=formatIfHasKuohao(l,r),e.renewData=function(e,t){t=t||1,a(e,t)};var y=e.INeedParentValFlag||!1;y?e.getDataWithParentVal=function(t,a,n){n=n||null,n&&(d[h]=n),d[e.INeedParentKey||"id"]=t;var r={post_url:l,post_data:d,successFunc:function(e){_(e)},errorFunc:function(t){v&&v(t,e)}};p&&(r.successKey=p),f&&(r.successValue=f),v&&(r.errorFunc=v),postAndDone(r,e)}:a(m)}else"string"==typeof o&&(e.getDataFromParentData=function(e,t,a){var n=getOptVal(e.sor_opt,["value_key","valueKey"],""),r=e.menu.menu.data,i=null;hasData(r)&&$.each(r,function(e,a){if(a[n]==t)return isUndefined(a[o])||(i=a[o]),!1}),i&&(a.menu_data=i,a.menu.menuXuanranSuccess=!0)})}function renewObjData(e,t){if(!isOurObj(e))return void console.log("not isOurObj");if(!isStrOrNumber(t)){var a=cloneData(e.sor_opt)||{},n=optionAddData(a,t),r=n[0];a.data=r,e[objAttrHasKh]&&strObj.reFormatKhAttr(e,a),e.renewSonLen?e.renewSonLen(a):e.renewSonData&&e.renewSonData(r),e.renewPageData&&e.renewPageData(t)}}function changeChildSonsName(e,t){var a,n=[],r=e[objValObjKey];hasData(r)&&(hasData(r)&&r.forEach(function(e){if(!e.name)return void changeChildSonsName(e,t);var r=indexClass.nameRemoveNum(e.name);a=r+"["+t+"]",n.push({name:a,obj:e}),e.name=a,e.attr("name",a),(e.hasClass("diy_input_box")||e.hasClass("diy_upload_input"))&&e.find(".diy_input").each(function(e,t){var n=$(t);n.attr("name").match(/(\[\d+\])$/)&&n.attr("name",a)})}),n&&n.forEach(function(e){global[e.name]=e.obj}))}function addCloneName(e){e.extend({clone:function(){return e.cloneSelf()},addline:function(t){isUndefined(t)&&(t="before");var a=e.parent,n=e.cloneSelf();return n.parent=a,a[objValObjKey].push(n),"after"==t?e.after(n):"before"==t&&e.before(n),n},removeObj:function(){var e=this;if(isOurObj(e.parent)){var t=e.parent,a=t.value;if(1==a.length)return void alert("atLeaseOne");$.each(a,function(t,n){n==e&&a.splice(t,1)}),e.remove(),t.value=a}else e.remove()},findName:function(t){t=t||"",t=$.trim(t);var a=null,n=function(e){if(e.name&&e.name==t)return void(a=e);o(e)},r=function(e){$.each(e,function(e,t){if($.isArray(t)?r(t):n(t),null!==a)return!1})},o=function(e){var t=e.value;if(!t||isStrOrNumber(t))return"";$.isArray(t)?r(t):n(t)};return o(e),a},findClass:function(t){t=t||"",t=$.trim(t);var a=[],n=function(e){e.hasClass(t)&&a.push(e),r(e)},r=function(e){var t=e.value;t&&!isStrOrNumber(t)&&($.isArray(t)?$.each(t,function(e,t){n(t)}):n(t))};return r(e),a},findParent:function(t){var a=function(e){var n=e.parent;return n&&isOurObj(n)?n.name===t?n:a(n):""};return a(e)}})}function objSetOptEven(bindToObj,options,callBackObj){options=options||{},callBackObj=callBackObj||bindToObj;var evenFuncs={},evenNameArray;if(evenTags.forEach(function(evenNames){evenNameArray=evenNames.split("||");var evenNameMain=evenNameArray[0];evenNameArray.forEach(function(evenName){if(evenName=$.trim(evenName),!isUndefined(options[evenName])){var runThisFuncs,thisFunc=options[evenName];if(evenFuncs[evenNameMain]){var lastFunc=evenFuncs[evenNameMain];runThisFuncs=function(e){if(!callBackObj||!callBackObj.attr("disabled")){!1!==lastFunc(e)&&thisFunc(callBackObj,e,livingObj)}}}else runThisFuncs=function(eve){if(!callBackObj||!callBackObj.attr("disabled"))return isString(thisFunc)?eval(thisFunc):thisFunc(callBackObj,eve,livingObj)};evenFuncs[evenNameMain]=runThisFuncs}})}),bindToObj.off){var pasteFunc=!1;"paste"in evenFuncs&&(pasteFunc=evenFuncs.paste,delProperty(evenFuncs,"paste")),bindToObj.off().on(evenFuncs),pasteFunc&&!thisObj.bindPaste&&(bindToObj.bindPaste=!0,bindToObj[0].addEventListener("paste",pasteFunc))}}function runFunc(doFunc,obj){doFunc&&(isString(doFunc)?eval(doFunc):doFunc(obj))}function cloneData(e,t){return isUndefined(t)?$.extend(getCloneType(e),e):$.extend(getCloneType(e),t,e)}function getOptVal(e,t,a){if(!e)return a;if($.isArray(t)){var n=!1,r=!1;return $.each(t,function(t,a){if(!isUndefined(e[a]))return n=!0,r=isObj(e[a])?cloneData(e[a]):e[a],!1}),n?r:a}return isUndefined(e[t])?a:isObj(e[t])?cloneData(e[t]):e[t]}function makeRandomInt(e){return str.makeRandomInt(e)}function makeRandomStr(e){return str.makeRandomStr(e)}function formatFloat(e,t){return str.formatFloat(e,t)}function addTimer(e){e.timer=function(t){var a=getOptVal(t,["time"],1e3);a=parseInt(a);var n=getOptVal(t,["while","until","stop","stopWhen","stopIf"],null),r=getOptVal(t,["repeat"],!1),o=getOptVal(t,["func"],!1),i=getOptVal(t,["end"],!1),s=null;if(!o||"function"!=typeof o)return void console.log("func参数缺省");if(r){var l=!1,u=0;isNumber(r)&&(l=!0),s=setInterval(function(){if(o(e),n&&"function"==typeof n){!0===n(e)&&(clearInterval(s),i&&i(e))}l&&++u>=r&&(clearInterval(s),i&&i(e))},a)}else s=setTimeout(function(){o(e),clearTimeout(s)},a)}}function sizeIsXs(e){return-1!==strInArray(e,["x","xs"])}function sizeIsSm(e){return-1!==strInArray(e,["s","sm","small"])}function sizeIsMd(e){return-1!==strInArray(e,["m","md","middle","normal"])}function sizeIsBg(e){return-1!==strInArray(e,["b","bg","big"])}function sizeIsLg(e){return-1!==strInArray(e,["l","lg","large"])}function objBindVal(e,t,a){t=t||{},a=a||[{key_:"bind",val_:"value"}];var n,r,o,i;$.each(a,function(a,s){n=s.key_,o=s.val_,r=n.split("/"),$.each(r,function(a,n){if(i=t[o]||""||getObjData(t[n])||"",t[n]){var r=$.trim(t[n]);e[objBindAttrsName]&&e[objBindAttrsName][r]||objAddListener(e,r,i,""!==i)}})})}function objAddListener(e,t,a,n){if(n=!!isUndefined(n)||n,global.notifyObj[t]){(isUndefined(livingObj.data[t])?null:livingObj.data[t])?a&&e.updates&&n&&e.updates(t):a&&setObjData(t,a),global.notifyObj[t].hasReceivr(e)||global.notifyObj[t].addReceivrs(e)}else{livingObj.hasOwnProperty(t)||addKeyToListener(t,a);var r=new notifyer;r.data_name=t,r.addReceivrs(e),global.notifyObj[t]=r}}function addKeyToListener(dataName,defaultVal,yufa){defaultVal=defaultVal||"",yufa=yufa||"=";var lastVal=isUndefined(livingObj.data[dataName])?null:livingObj.data[dataName];livingObj.hasOwnProperty(dataName)&&livingObj.data.hasOwnProperty(dataName)?lastVal&&"="!=yufa&&(eval("var ss="+lastVal+"; ss"+yufa+defaultVal),defaultVal=ss,livingObj.data[dataName]=defaultVal):(Object.defineProperty(livingObj,dataName,{get:function(){return this.data[dataName]},set:function(e){e!==lastVal&&updateBindObj(dataName,e)}}),livingObj.data[dataName]=defaultVal)}function updateBindObj(e,t,a){a=isUndefined(a)?[]:a,livingObj.data[e]=t,global.notifyObj[e]&&global.notifyObj[e].notify(e,a)}function setObjData(e,t){livingObj.hasOwnProperty(e)&&(livingObj[e]=t)}function getObjData(e){return e=$.trim(e),isUndefined(livingObj.data[e])?"":livingObj.data[e]}function getKuohaoAbc(e,t){t=t||"data";var a=e.match(/{([^}^{]*?)}/g),n=/^[0-9a-zA-Z_]{1,}$/;if(!a)return[];var r=[];return a.forEach(function(e){e=e.replace(/\{|\}/g,""),(e=$.trim(e))&&n.test(e)&&r.push(e)}),hasData(r)&&(r=$.unique(r)),r}function getParentObj(e,t){function a(e,t){return t>0?(t--,a(e.parent,t)):e}var n=0;return"parent"!=t.substr(0,6)?e.closest(t):(n=t.split("parent").length-1,a(e,n))}function callBindDragObj(e,t){var a=getOptVal(t,["order_key","orderKey","order_keyname","orderKeyname","order_field","orderField"],null),n=getOptVal(t,["order_type","orderType","order_value","orderValue"],null),r=getOptVal(t,["move_li","moveLi"],null),o=getOptVal(t,["move_box","moveBox"],null),i=(getOptVal(t,["moving_func","movingFunc","moving"],null),getOptVal(t,["move_end_func","move_end","moveEndFunc","moveEnd"],null)),s=getOptVal(t,["move_before_func","move_before","moveBeforeFunc","moveBefore"],null);if(r&&o){var l=!1,u=t.move_top_li||0,d=t.move_bottom_li||0,c=null,p=function(t,a){c=e.css("cursor")},f=function(t,r){r.css({position:"",left:"","z-index":"",top:""}),c||e.css("cursor",""),t.find(".emptyDragLi").after(r),t.find(".emptyDragLi").remove(),l=!1;var o,i,s,u,d,p,f,m,v=r.attr("name"),b=r.prev(),g=r.next();if(0==b.length){if(o=g,a){var h;h="desc"==n?parseFloat(o.attr(a))+1:parseFloat(o.attr(a))-1,r.attr(a,h)}}else if(o=b,a){var h;h="desc"==n?parseFloat(o.attr(a))-1:parseFloat(o.attr(a))+1,r.attr(a,h)}i=o.attr("name");var _=indexClass.nameRemoveNum(v);if(_||(_="lr_index_li",global[_]=r,r.attr("name",_)),d=b.attr("name"),u=g.attr("name"),indexClass.nameHasNum(i))if(s=indexClass.nameGetNum(i),p=indexClass.nameGetNum(d),f=indexClass.nameGetNum(u),m=indexClass.nameGetNum(v),s<m-1){var y=createRadomName(r.tag);v&&(global[v]=null),r.attr("name",y),changeChildSonsName(r,1e6);for(var j,O,x=[],k=f;k<=m;k++)j=global[_+"["+k+"]"],O=_+"["+(k+1)+"]",j&&(x.push({name:O,obj:j}),j.name=O,j.attr("name",O),changeChildSonsName(j,k+1));x.forEach(function(e){global[e.name]=e.obj});var A=_+"["+f+"]";global[A]=r,r.name=A,r.attr("name",A),changeChildSonsName(r,f)}else if(s>m){var y=createRadomName(r.tag);global[v]=null,r.attr("name",y),changeChildSonsName(r,1e6);for(var j,O,x=[],k=m+1;k<=p;k++)j=global[_+"["+k+"]"],O=_+"["+(k-1)+"]",j&&(x.push({name:O,obj:j}),j.name=O,j.attr("name",O),changeChildSonsName(j,k-1));x.forEach(function(e){global[e.name]=e.obj});var A=_+"["+p+"]";global[A]=r,r.name=A,r.attr("name",A),changeChildSonsName(r,p)}};setTimeout(function(){var t,a;t=getParentObj(e,r),a=getParentObj(e,o),isOurObj(a)&&a&&"relative"!==a.css("position")&&a.css("position","relative");var n=-1;if(u>0){var l=0;$.each(t.siblings(),function(e,t){t=$(t),l<u&&(n+=t.outerHeight(),l++)})}if(d>0)for(var c,m=t.siblings(),v=0,l=0;l<d;l++){if(!(l<d))return;c=m[m.length-1-l],c=$(c),v+=c.outerHeight()}var b=t.outerHeight(),g=function(e,t,a,n,r){p(),s&&s(t,n,a,e)},h=function(e,t,a,n,r){f(n,a),i&&i(t,a,n,e)};t.Drag(e,"",{min_top:n,bottom_distance:v,min_left:0,max_left:0,parent_box:a,li_height:b,mousedown:[g,e,t,a],draging:[movingobj,e,t,a],dragup:[h,e,t,a]})},200)}}function _getFormData(e){function t(e,t){isUndefined(n[e])?n[e]=t:$.isArray(n[e])?n[e]=n[e].concat(t):n[e]=[n[e],t]}function a(e){var n,r=e.name;n=e.value,$.isArray(n)?isOurObj(n[0])?$.each(n,function(e,t){a(t)}):r&&t(r,n):isOurObj(n)?a(n):r&&t(r,n)}var n={};if(isOurObj(e)){var r=e[objValObjKey];$.isArray(r)||(r=[r]),function(e){$.each(e,function(e,t){isOurObj(t)&&a(t)})}(r)}else console.log("not our obj",e);var o=Object.keys(n).sort(),i={};return o.forEach(function(e){i[e]=n[e]}),i}function makeNullData(){return{}}function domAppendNode(e,t,a){a=a||!1;var n=t.value||t.son||"",r=t.data||makeNullData();isStrOrNumber(r)&&a&&(r=strObj.formatStr(r,[],0,e,"data"));var o=function(t,n){if(e.intVal=n||void 0,e.nodeObj=[],e.htmObj=[],isHtml(t)){var o=/('|")([^<'"]*)((\s*<([a-z]+)\s*[^>]+>([^<]*)<\/([a-z]+)>)+)([^'"<]*)('|")/g,i=t.match(o);if(i){var s=/<[^>]+>/g;$.each(i,function(e,a){var n=a,r=a.match(s);$.each(r,function(e,t){var a=t.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;"),n=n.replace(RegExp(regCodeAddGang(t),"g"),a)}),t=t.replace(RegExp(regCodeAddGang(a),"g"),n)})}}e.html(t);var l=getObjHtmlNode(e,e[0],r);e.append(l),formatObjNodesVal(e,r,a),0==e.htmObj.length&&1==e.nodeObj.length&&e.nodeObj[0].text==t&&e.nodeObj[0].obj.setNumber&&(e.intVal=e.nodeObj[0].obj.setNumber)};o(n,!1),e.hasOwnProperty("value")||Object.defineProperty(e,"value",{get:function(){return void 0!==e.intVal?e.intVal:e.htmObj?e.html():this[objValObjKey]},set:function(t){var a=!1;isNumber(t)&&0==e.htmObj.length&&1==e.nodeObj.length&&void 0!==e.intVal&&(a=t),o(t,a)}})}function objPushVal(e,t){t.parent=e,e.append(t),e[objValObjKey]&&hasData(e[objValObjKey])?e[objValObjKey].push(t):e[objValObjKey]=[t]}function domAppendObj(e,t){function a(t){if(!isUndefined(t)&&(t&&objPushVal(e,t),hasData(r)&&("array"==typeof r||"object"==typeof r))){var a=t.extendParentData;isUndefined(a)||1!=a||renewObjData(t,r)}}var n=t.value||t.son||"",r=t.data||[];hasData(n)&&(_valIsAy(n)?$.each(n,function(e,t){a(t)}):a(n))}function _valIsAy(e){return $.isArray(e)&&!isOurObj(e)}function makeDom(e){var t=cloneData(e);t=t||{};var a=t.tag||"span",n=t.sureSource||!1,r=cloneData(t.options||{});if("button"==a){var o="",i=getOptVal(r,["size"],null);sizeIsXs(i)?o="btnLrXs":sizeIsSm(i)?o="btnLrSm":sizeIsMd(i)?o="btnLrMd":sizeIsBg(i)?o="btnLrBg":sizeIsLg(i)&&(o="btnLrLg"),o&&(r.class_extend=o),r[objValIsNode]=!1}r.tag=a;var s=$("<"+a+"></"+a+">");s.sor_opt||(s.sor_opt=cloneData(n?r||{}:copySourceOpt(r))),s[objValObjKey]=[];var l=getOptVal(r,["bind"],""),u=getOptVal(r,["onload","onLoad","ready","onReady"],null);if(isUndefined(r.name))if("tr"==a||"li"==a)r.name=createRadomName(a);else if("li"==a&&"tr"==a){var d=createRadomName(a);r.name=d}s.whenUpdate=null,s.nodeObj=[],s.htmObj=[];var c=function(){s[objValIsNode]=!1,s.hasOwnProperty("value")||Object.defineProperty(s,"value",{get:function(){return s[objValObjKey]||[]},set:function(e){__clearSons(s),_valIsAy(e)?$.each(e,function(e,t){objPushVal(s,t)}):objPushVal(s,e)}})};return s.renewVal=function(e,t){isUndefined(t)&&(t=s.sor_opt),console.log("renew Val",e),t.value=e,isStrOrNumber(e)?(s[objValIsNode]=!0,domAppendNode(s,t)):(s[objValIsNode]=!1,s.html(""),__clearSons(s),domAppendObj(s,t))},s.renewSonData=function(e){e=e||[],hasData(s[objValObjKey])&&$.each(s[objValObjKey],function(t,a){if(a){var n=a.extendParentData;isUndefined(n)||1!=n||renewObjData(a,e)}})},s.appendObj=function(e){s.renewVal(e,s.sor_opt)},s.domAppendVal=function(e,t){var n=this;if(e=e||[],!hasData(e))return"";a=a||"span";var r=!1;isUndefined(e.extendParentData)||(r=!0);var o=getOptVal(e,["data"],{}),i=function(e){e=e||{};e.tag&&(hasData(o)&&!0,r&&(e.extendParentData=!0),d="checked"==e.tag?require("checked").makeCheck(e,!0):"radio"==e.tag?require("radio").makeRadio(e,!0):"switch"==e.tag?require("switch").makeSwitch(e,!0):"input"==e.tag?require("input").makeInput(e,!0):"img"==e.tag?require("img").makeImg(e,!0):"list"==e.tag?require("list").makeList(e,!0):makeDom({tag:e.tag,options:e,sureSource:!0}),objPushVal(n,d),n.append(d))};if("tr"==a){var l=e.td||e.th||{},u=tdToObj(o,l,r,isUndefined(e.td)?"th":"td");u.forEach(function(e){objPushVal(n,e)}),c()}else if("list"==a){var u=makeList(e);objPushVal(n,u),hasData(o),c()}else if("td"==a||"li"==a){var d=isUndefined(e.value)?"":e.value;isOurObj(d)?(c(),objPushVal(n,d)):$.isArray(d)?(c(),$.each(d,function(e,t){t&&(t instanceof $?objPushVal(n,t):i(t))})):isObj(d)?(c(),d instanceof $?n.append(d):i(d)):isStrOrNumber(d)&&(s[objValIsNode]=!0,domAppendNode(n,e,t))}else{isUndefined(e.value)&&(e.value=" ");var p=e.value;isStrOrNumber(p)?(s[objValIsNode]=!0,domAppendNode(n,e,t)):$.isArray(p)?(c(),$.each(p,function(e,t){t&&(t instanceof $||isOurObj(t)?objPushVal(n,t):i(t))})):isOurObj(p)?(c(),domAppendObj(n,e)):i(p)}},s.extend({renew:function(e){e=e||{};var t=!isUndefined(e.data);s.domAppendVal(e,t),optionDataFrom(s,e),strObj.formatAttr(s,e,0,t)},cloneSelf:function(){var e=cloneData(s.sor_opt);return e.name=createRadomName(e.tag),makeDom({tag:a,options:e})},updates:function(e,t){t=t||[],l&&-1==$.inArray(this,t)&&(t.push(s),updateNodeText(this,$.trim(l),t),this.whenUpdate&&this.whenUpdate(this,getObjData($.trim(l)))),s[objBindAttrsName]&&s[objBindAttrsName][e]&&renewObjBindAttr(this,e)}}),s.renew(r),optionGetSet(s,r),objBindVal(s,r),addCloneName(s),addTimer(s),callBindDragObj(s,r),u&&u(s),s}function makeA(e){return makeDom({tag:"a",options:e})}function makeB(e){return makeDom({tag:"b",options:e})}function makeI(e){return makeDom({tag:"i",options:e})}function makeLi(e){return makeDom({tag:"li",options:e})}function makeSpan(e){
return makeDom({tag:"span",options:e})}function makeP(e){return makeDom({tag:"p",options:e})}function makeDiv(e){return makeDom({tag:"div",options:e})}function makeTable(e){return table.makeTable(e)}function makeForm(e){return form.makeForm(e)}function makeList(e){return list.makeList(e)}function makeImg(e){return img.makeImg(e)}function makeInput(e){return input.makeInput(e)}function makeItems(e){return items.makeItems(e)}function makeSelect(e){return select.makeSelect(e)}function makeRadio(e){return radio.makeRadio(e)}function makeChecked(e){return checked.makeChecked(e)}function makeSwitch(e){return switched.makeSwitch(e)}function makeTd(e){return makeDom({tag:"td",options:e})}function makeTh(e){return makeDom({tag:"th",options:e})}function makeTr(e){return makeDom({tag:"tr",options:e})}function makeH1(e){return makeDom({tag:"h1",options:e})}function makeH2(e){return makeDom({tag:"h2",options:e})}function makeH3(e){return makeDom({tag:"h3",options:e})}function makeH4(e){return makeDom({tag:"h4",options:e})}function makeH5(e){return makeDom({tag:"h5",options:e})}function makeH6(e){return makeDom({tag:"h6",options:e})}function makeTree(e){return tree.makeTree(e)}function makeBtn(e){return makeDom({tag:"button",options:e})}function makeBar(e){return bar.makeBar(e)}function makeRili(e){return rili.makeRili(e)}function makePage(e){return page.makePage(e)}function makeEditor(e){return editor.makeEditor(e)}function tdToObj(e,t,a,n){function r(e){return"td"==n?makeTd(e):makeTh(e)}var o,i=[];return $.isArray(t)||(t=[t]),t.forEach(function(t){var n=t.value||[];$.isArray(n),a&&(t.extendParentData=!0),o=r(t),hasData(e)&&(o.data=e),i.push(o)}),i}function __clearSons(e){e[objValObjKey]&&e[objValObjKey].forEach(function(e){e.remove()}),e[objValObjKey]=[]}function copySourceOpt(e){var t=function(e){var n=[];return $.each(e,function(e,r){isOurObj(r)?n.push(r.sor_opt):$.isArray(r)?n.push(t(r)):isObj(r)&&(r instanceof $?n=r:n.push(a(r)))}),n},a=function(e){var n={};return $.each(e,function(e,r){if("data"==e)return void(n[e]=r);$.isArray(r)?isStrOrNumber(r[0])?n[e]=r:n[e]=t(r):isOurObj(r)?n[e]=r.sor_opt:isObj(r)?n[e]=r instanceof $?r:a(r):n[e]=r}),n};return a(e)}function _onFormatVal(e,t,a,n){n=n||"value";var r="",o=e.sor_opt,i={};if(strHasKuohao(a)){var s={};strHasKuohao(a,"public")?(s=livingObj.data,r=strObj.formatStr(a,s,0,e,n)):(s=t,r=strObj.formatStr(a,t,0,e,n)),hasData(s)&&(isUndefined(o["onFormat_"+n])||(i={func:o["onFormat_"+n],val:r,data:s})),e[objAttrHasKh]=!0}else r=a;return hasData(i)&&i.func(e,i.val,i.data),r}$.url=function(){function e(e){for(var t="",a=0,n=0,r=0;a<e.length;)if((n=e.charCodeAt(a))<128)t+=String.fromCharCode(n),a++;else if(n>191&&n<224)r=e.charCodeAt(a+1),t+=String.fromCharCode((31&n)<<6|63&r),a+=2;else{r=e.charCodeAt(a+1);var o=e.charCodeAt(a+2);t+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&o),a+=3}return t}function t(e,t){var a={},n={true:!0,false:!1,null:null};return $.each(e.replace(/\+/g," ").split("&"),function(e,r){var i=r.split("=");e=o(i[0]),r=a;var s=0,l=e.split("]["),u=l.length-1;if(/\[/.test(l[0])&&/\]$/.test(l[u])?(l[u]=l[u].replace(/\]$/,""),l=l.shift().split("[").concat(l),u=l.length-1):u=0,2===i.length)if(i=o(i[1]),t&&(i=i&&!isNaN(i)?+i:"undefined"===i?void 0:void 0!==n[i]?n[i]:i),u)for(;s<=u;s++)e=""===l[s]?r.length:l[s],r=r[e]=s<u?r[e]||(l[s+1]&&isNaN(l[s+1])?{}:[]):i;else $.isArray(a[e])?a[e].push(i):a[e]=void 0!==a[e]?[a[e],i]:i;else e&&(a[e]=t?void 0:"")}),a}function a(e){e=e||window.location;var a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);for(var n={},r=a.length;r--;)n[a[r]]=e[r]||"";return n.query&&(n.params=t(n.query,!0)),n}function n(e){if(e.source)return encodeURI(e.source);var t=[];return e.protocol&&("file"==e.protocol?t.push("file:///"):"mailto"==e.protocol?t.push("mailto:"):t.push(e.protocol+"://")),e.authority?t.push(e.authority):(e.userInfo?t.push(e.userInfo+"@"):e.user&&(t.push(e.user),e.password&&t.push(":"+e.password),t.push("@")),e.host&&(t.push(e.host),e.port&&t.push(":"+e.port))),e.path?t.push(e.path):(e.directory&&t.push(e.directory),e.file&&t.push(e.file)),e.query?t.push("?"+e.query):e.params&&t.push("?"+$.param(e.params)),e.anchor&&t.push("#"+e.anchor),t.join("")}function r(e){return encodeURIComponent(e)}function o(t){return t=t||window.location.toString(),e(unescape(t.replace(/\+/g," ")))}return{encode:r,decode:o,parse:a,build:n}}(),$.extend({handleError:function(e,t,a,n){e.error&&e.error.call(e.context||e,t,a,n),e.global&&(e.context?jQuery(e.context):jQuery.event).trigger("ajaxError",[t,e,n])},createUploadIframe:function(e,t){if(window.ActiveXObject){if("9.0"==jQuery.browser.version||"10.0"==jQuery.browser.version){var a=document.createElement("iframe");a.id=e,a.name=e}else if("6.0"==jQuery.browser.version||"7.0"==jQuery.browser.version||"8.0"==jQuery.browser.version){var a=document.createElement('<iframe id="'+e+'" name="'+e+'" />');"boolean"==typeof t?a.src="javascript:false":"string"==typeof t&&(a.src=t)}}else{var a=document.createElement("iframe");a.id=e,a.name=e}return a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",document.body.appendChild(a),a},ajaxFileUpload:function(e){e=jQuery.extend({},jQuery.ajaxSettings,e);var t=(new Date).getTime(),a={},n=null,r="jUploadFrame"+t,o="jUploadForm"+t,i=e.data||null,s=e.loadingUrl||"";s&&(n=$('<img class="loading_gif" src="'+s+'">')),a=$('<form  action="'+e.url+'" target="'+r+'" method="POST" name="'+o+'" style="position: absolute; top: -1000px; left: -1000px;" id="'+o+'" enctype="multipart/form-data"></form>'),n&&e.fileInput.after(n);var l=e.fileInput.prev(),u=e.fileInput.parent();if($(document.body).append(e.fileInput),e.fileInput.wrap(a),a=$("#"+o),i){var d="";$.each(i,function(e,t){d=$('<input type="hidden" name="'+e+'" value="'+t+'" />'),a.append(d)})}jQuery.createUploadIframe(r,e.secureuri),e.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var c=!1,p={};e.global&&jQuery.event.trigger("ajaxSend",[p,e]);var f=function(t){var o=document.getElementById(r);try{o.contentWindow?(p.responseText=o.contentWindow.document.body?o.contentWindow.document.body.innerHTML:null,p.responseXML=o.contentWindow.document.XMLDocument?o.contentWindow.document.XMLDocument:o.contentWindow.document):o.contentDocument&&(p.responseText=o.contentDocument.document.body?o.contentDocument.document.body.innerHTML:null,p.responseXML=o.contentDocument.document.XMLDocument?o.contentDocument.document.XMLDocument:o.contentDocument.document)}catch(t){jQuery.handleError(e,p,null,t)}if(p||"timeout"==t){c=!0;var i;try{if("error"!=(i="timeout"!=t?"success":"error")){var s=jQuery.uploadHttpData(p,e.dataType);e.finish?e.finish(s,i):(console.log("!s.finish"),console.log(e)),e.global&&jQuery.event.trigger("ajaxSuccess",[p,e])}else jQuery.handleError(e,p,i)}catch(t){i="error",jQuery.handleError(e,p,i,t)}jQuery(o).unbind(),setTimeout(function(){try{$(o).remove(),n&&n.remove(),l.length>0?l.after(e.fileInput):u.append(e.fileInput),$(a).remove()}catch(t){jQuery.handleError(e,p,null,t)}},100),p=null}};e.timeout>0&&setTimeout(function(){c||f("timeout")},e.timeout);try{$(a).submit()}catch(t){jQuery.handleError(e,p,null,t)}return window.attachEvent?document.getElementById(r).attachEvent("onload",f):document.getElementById(r).addEventListener("load",f,!1),{abort:function(){}}},uploadHttpData:function(r,type){var data=!type;if(data="xml"==type||data?r.responseXML:r.responseText,"script"==type&&jQuery.globalEval(data),"json"==type){var data=r.responseText,reg_=/^<pre.*?>(.*?)<\/pre>$/i;if(reg_.test(data)){var am=reg_.exec(data),data=am?am[1]:"";eval("data = "+data)}else eval("data = "+data)}return"html"==type&&jQuery("<div>").html(data).evalScripts(),data}}),function(e){var t=function(e,t){var a,n,r,o;return r=2147483648&e,o=2147483648&t,a=1073741824&e,n=1073741824&t,e=(1073741823&e)+(1073741823&t),a&n?2147483648^e^r^o:a|n?1073741824&e?3221225472^e^r^o:1073741824^e^r^o:e^r^o},a=function(e,a,n,r,o,i,s){return e=t(e,t(t(a&n|~a&r,o),s)),t(e<<i|e>>>32-i,a)},n=function(e,a,n,r,o,i,s){return e=t(e,t(t(a&r|n&~r,o),s)),t(e<<i|e>>>32-i,a)},r=function(e,a,n,r,o,i,s){return e=t(e,t(t(a^n^r,o),s)),t(e<<i|e>>>32-i,a)},o=function(e,a,n,r,o,i,s){return e=t(e,t(t(n^(a|~r),o),s)),t(e<<i|e>>>32-i,a)},i=function(e){var t,a,n="";for(a=0;3>=a;a++)t=e>>>8*a&255,t="0"+t.toString(16),n+=t.substr(t.length-2,2);return n};e.extend({md5:function(e){var s,l,u,d,c,p,f,m,v;for(e=e.replace(/\x0d\x0a/g,"\n"),s="",l=0;l<e.length;l++)u=e.charCodeAt(l),128>u?s+=String.fromCharCode(u):(127<u&&2048>u?s+=String.fromCharCode(u>>6|192):(s+=String.fromCharCode(u>>12|224),s+=String.fromCharCode(u>>6&63|128)),s+=String.fromCharCode(63&u|128));for(l=s.length,e=l+8,d=16*((e-e%64)/64+1),e=Array(d-1),p=0;p<l;)u=(p-p%4)/4,c=p%4*8,e[u]|=s.charCodeAt(p)<<c,p++;for(u=(p-p%4)/4,e[u]|=128<<p%4*8,e[d-2]=l<<3,e[d-1]=l>>>29,p=1732584193,f=4023233417,m=2562383102,v=271733878,s=0;s<e.length;s+=16)l=p,u=f,d=m,c=v,p=a(p,f,m,v,e[s+0],7,3614090360),v=a(v,p,f,m,e[s+1],12,3905402710),m=a(m,v,p,f,e[s+2],17,606105819),f=a(f,m,v,p,e[s+3],22,3250441966),p=a(p,f,m,v,e[s+4],7,4118548399),v=a(v,p,f,m,e[s+5],12,1200080426),m=a(m,v,p,f,e[s+6],17,2821735955),f=a(f,m,v,p,e[s+7],22,4249261313),p=a(p,f,m,v,e[s+8],7,1770035416),v=a(v,p,f,m,e[s+9],12,2336552879),m=a(m,v,p,f,e[s+10],17,4294925233),f=a(f,m,v,p,e[s+11],22,2304563134),p=a(p,f,m,v,e[s+12],7,1804603682),v=a(v,p,f,m,e[s+13],12,4254626195),m=a(m,v,p,f,e[s+14],17,2792965006),f=a(f,m,v,p,e[s+15],22,1236535329),p=n(p,f,m,v,e[s+1],5,4129170786),v=n(v,p,f,m,e[s+6],9,3225465664),m=n(m,v,p,f,e[s+11],14,643717713),f=n(f,m,v,p,e[s+0],20,3921069994),p=n(p,f,m,v,e[s+5],5,3593408605),v=n(v,p,f,m,e[s+10],9,38016083),m=n(m,v,p,f,e[s+15],14,3634488961),f=n(f,m,v,p,e[s+4],20,3889429448),p=n(p,f,m,v,e[s+9],5,568446438),v=n(v,p,f,m,e[s+14],9,3275163606),m=n(m,v,p,f,e[s+3],14,4107603335),f=n(f,m,v,p,e[s+8],20,1163531501),p=n(p,f,m,v,e[s+13],5,2850285829),v=n(v,p,f,m,e[s+2],9,4243563512),m=n(m,v,p,f,e[s+7],14,1735328473),f=n(f,m,v,p,e[s+12],20,2368359562),p=r(p,f,m,v,e[s+5],4,4294588738),v=r(v,p,f,m,e[s+8],11,2272392833),m=r(m,v,p,f,e[s+11],16,1839030562),f=r(f,m,v,p,e[s+14],23,4259657740),p=r(p,f,m,v,e[s+1],4,2763975236),v=r(v,p,f,m,e[s+4],11,1272893353),m=r(m,v,p,f,e[s+7],16,4139469664),f=r(f,m,v,p,e[s+10],23,3200236656),p=r(p,f,m,v,e[s+13],4,681279174),v=r(v,p,f,m,e[s+0],11,3936430074),m=r(m,v,p,f,e[s+3],16,3572445317),f=r(f,m,v,p,e[s+6],23,76029189),p=r(p,f,m,v,e[s+9],4,3654602809),v=r(v,p,f,m,e[s+12],11,3873151461),m=r(m,v,p,f,e[s+15],16,530742520),f=r(f,m,v,p,e[s+2],23,3299628645),p=o(p,f,m,v,e[s+0],6,4096336452),v=o(v,p,f,m,e[s+7],10,1126891415),m=o(m,v,p,f,e[s+14],15,2878612391),f=o(f,m,v,p,e[s+5],21,4237533241),p=o(p,f,m,v,e[s+12],6,1700485571),v=o(v,p,f,m,e[s+3],10,2399980690),m=o(m,v,p,f,e[s+10],15,4293915773),f=o(f,m,v,p,e[s+1],21,2240044497),p=o(p,f,m,v,e[s+8],6,1873313359),v=o(v,p,f,m,e[s+15],10,4264355552),m=o(m,v,p,f,e[s+6],15,2734768916),f=o(f,m,v,p,e[s+13],21,1309151649),p=o(p,f,m,v,e[s+4],6,4149444226),v=o(v,p,f,m,e[s+11],10,3174756917),m=o(m,v,p,f,e[s+2],15,718787259),f=o(f,m,v,p,e[s+9],21,3951481745),p=t(p,l),f=t(f,u),m=t(m,d),v=t(v,c);return(i(p)+i(f)+i(m)+i(v)).toLowerCase()}})}(jQuery),function(e){function t(e,t,a,n,r,o){e=String(e);for(var i=0,s=0,l=e.length,u="",d=0;s<l;){var c=e.charCodeAt(s);for(c=c<256?a[c]:-1,i=(i<<r)+c,d+=r;d>=o;){d-=o;var p=i>>d;u+=n.charAt(p),i^=p<<d}++s}return!t&&d>0&&(u+=n.charAt(i<<o-d)),u}for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=[256],o=[256],i=0,s={encode:function(e){return e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)}).replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)})},decode:function(e){return e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)}).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})}};i<256;){var l=String.fromCharCode(i);n+=l,o[i]=i,r[i]=a.indexOf(l),++i}var u=e.base64=function(e,t,a){return t?u[e](t,a):e?null:this};u.btoa=u.encode=function(e,n){return e=!1===u.raw||u.utf8encode||n?s.encode(e):e,(e=t(e,!1,o,a,8,6))+"====".slice(e.length%4||4)},u.atob=u.decode=function(e,a){e=String(e).split("=");var o=e.length;do{--o,e[o]=t(e[o],!0,r,n,6,8)}while(o>0);return e=e.join(""),!1===u.raw||u.utf8decode||a?s.decode(e):e}}(jQuery);var global={};window.bindDocumentHideMenuEven=!1;var evenTags="mouseover||mouseenter||hover||hover_extend/mouseout||mouseleave||mouseleave_extend/click/dblclick||dbclick/paste/blur||blur_extend/change||change_extend/keyup/keyup_extend/input propertychange||input propertychange_extend/submit||submit_extend".split("/"),kuohaoNewhasl="[cd_kuohao_l]",kuohaoNewhasr="[cd_kuohao_r]",yinhaoNewhasd="[cd_yinhaod]",yinhaoNewhass="[cd_yinhaos]",yinhaofNewhasd="[cd_tmpZy_Yinhd]",yinhaofNewhass="[cd_tmpZy_Yinhs]",optionsChangeNoRenew=["name"],regErrNullGongshiSet1=/^\(\s*\)/,regErrNullGongshiSet2=/^\(([a-zA-Z_]+[a-zA-Z_\d.]*)\)$|([>|<|==|!|&|\|])\s*\(([a-zA-Z_]+[a-zA-Z_\d.]*)\)|\(([a-zA-Z_]+[a-zA-Z_\d.]*)\)\s*([>|<|==|!|&|\|])/,regErrNullGongshiSet3=/^!+$/,regErrFrontEnd=/^\s*(=|\|\||&|<|>|!)|(=|\|\||&|<|>)\s*$/,regErrBoolenGongshiSetMiddle=/(&&|\|\|)\s*(&&|\|\|)/,regErrNullGongshiSet4=/([\&\&|\|\|]+)\s*(>|<|=|!)|(>|<|=|!)\s*([\&\&|\|\|]+)/,regErrNullGongshiSet5=/\(\s*([>|<|=|!|&|\|])|([>|<|=|!|&|\|])\s*\)/,regErrNullGongshiSet6=/^([a-zA-Z_]+[a-zA-Z_\d.]*)([>|<|==|!|\||&])| ([\&\&|\|\|]+)\s*([a-zA-Z_]+[a-zA-Z_\d.]*)\s*([>|<|==|!|\||&])|([>|<|==|!|\||&])\s*([a-zA-Z_]+[a-zA-Z_\d.]*)\s*([\&\&|\|\|]+)|([>|<|==|!|\||&])\s*([a-zA-Z_]+[a-zA-Z_\d.]*)\s*([>|<|==|!|\||&])|([>|<|=|!])([a-zA-Z_]+[a-zA-Z_\d.]*)$/,regErrNullGongshiSet7=/([>|<|=|!|&|\|])\s*\(\s*\)|\(\s*\)\s*([>|<|=|!|&|\|])/,yufeiReg=/^\s*\(*(('|")([^'"]*)('|")|\s*([\+|\-|\*|\/]*)\s*([0-9.]+)|\s*(true|false)\s*)\)*\s*((\s*\(*\s*([\+\-*\/%]+)\s*\(*\s*([0-9.]+)\s*\)*\s*\)*)|(\s*([\+|\&\&|\|\|]+)\s*\(*('|")([^'"]*)('|")\)*\s*))*(\s*([>|<|!=|==]+)\s*\(*(('|")([^'"]*)('|")|([0-9.]+))\)*\s*((\s*\(*\s*([\+\-*\/%]+)\s*\(*\s*([0-9.]+)\s*\)*\s*\)*)|(\s*\+\s*\(*('|")([^'"]*)('|")\)*\s*))*)*(\s*([\&\&|\|\|]+)\s*\(*(('|")([^'"]*)('|")|\s*([\+|\-|\*|\/]*)\s*([0-9.]+)|\s*(true|false)\s*)\)*\s*((\s*\(*\s*([\+\-*\/%]+)\s*\(*\s*([0-9.]+)\s*\)*\s*\)*)|(\s*([\+|\&\&|\|\|]+)\s*\(*('|")([^'"]*)('|")\)*\s*))*(\s*([>|<|!=|==]+)\s*\(*(('|")([^'"]*)('|")|([0-9.]+))\)*\s*((\s*\(*\s*([\+\-*\/%]+)\s*\(*\s*([0-9.]+)\s*\)*\s*\)*)|(\s*\+\s*\(*('|")([^'"]*)('|")\)*\s*))*)*)*$/,regYufa3YuanSet=/^\s*\(*(('|")([^'"]*)('|")|\s*([\+|\-|\*|\/]*)\s*([0-9.]+)|\s*(true|false)\s*)\)*\s*((\s*\(*\s*([\+\-*\/%]+)\s*\(*\s*([0-9.]+)\s*\)*\s*\)*)|(\s*([\+|\&\&|\|\|]+)\s*\(*('|")([^'"]*)('|")\)*\s*))*(\s*([>|<|!|=]+)\s*\(*(('|")([^'"]*)('|")|([0-9.]+))\)*\s*((\s*\(*\s*([\+\-*\/%]+)\s*\(*\s*([0-9.]+)\s*\)*\s*\)*)|(\s*\+\s*\(*('|")([^'"]*)('|")\)*\s*))*)*\?\s*(('|")([^'"]*)('|")|([0-9.]+))\s*:\s*(('|")([^'"]*)('|")|([0-9.]+))/,objValObjKey="obj_val_objs",objAttrHasKh="obj_opt_has_kuohao",objHasKhAttrs="obj_has_kuohao_attrs",objValIsNode="obj_val_is_node",objBindAttrsName="bind_attrs",strObj={runYufaReg:/^{*([a-zA-Z_]+[a-zA-Z_\d.]*)\[run\]\((.*)\)\s*\;*\s*\}*$/,runYufa:function(str_){return str_=$.trim(str_),str_=trim(str_,"{"),str_=trim(str_,"}"),str_=str_.replace(RegExp(this.runYufaReg,"g"),"$1($2)"),str_=this.urlDecodeLR(str_),str_=eval(str_)},hasYufa:function(e){if(!(e=e||""))return!1;if(!/^\s*{(.+)}\s*$/.test(e))return!1;if(e=$.trim(e),e=trim(e,"{"),e=trim(e,"}"),/([^{]*)\{([a-zA-Z_]+[a-zA-Z_\d.]*)\}([^\}]*)/.test(e))return!1;if(/\s*!\s*"\s*"\s*/.test(e))return"gth";if(/\s*!\s*([0-9]+)\s*/.test(e))return"gthZm";if(/^\s*\(*\s*"\s*"\s*\)*\s*$/.test(e))return"emp_kh";if(yufeiReg.test(e))return"yufei";if(e=clearYinhao(e),/({|})/.test(e))return!1;if(-1!=hasStrs(e,["inArray","indexOf","typeof"]))return"hasInarray";if(-1!=hasStrs(e,["eval"]))return"has_eval";if(/^\s*\(*(('|")([^'"]*)('|")|([\+|\-|\*|\/]*)\s*([0-9.]+))\)*\s*((\s*([\+\-*\/%]+)\s*\(*([0-9.]+)\s*\)*\s*)|(\s*\+\s*\(*('|")([^'"]*)('|")\)*\s*))+/.test(e))return"sizehunheRegMul";if(regYufa3YuanSet.test(e)){return!!/^!*'|^!*"|^\s*([0-9.]+)|^\s*(true)|^\s*(false)/g.test(regYufa3YuanSet.exec(e)[1])&&"regYufa3YuanSet"}return this.runYufaReg.test(e)?"runReg":!!/^\s*\(*(('|")([^'"]*)('|")|([\+|\-|\*|\/]*)\s*([0-9.]+))\)*\s*(((\s*\(*([\+\-*\/%]+)\s*\(*([0-9.]+)\s*\)*)|(\s*\+\s*\(*('|")([^'"]*)('|")\)*))*)\s*(([>|<|!|=]+)|(\&\&|\|\|))\s*\(*(('|")([^'"]*)('|")|([0-9.]+))\)*\s*(((\s*\(*([\+\-*\/%]+)\s*\(*([0-9.]+)\s*\)*)|(\s*\+\s*\(*('|")([^'"]*)('|")\)*))*)/.test(e)&&"compareYufaMul"},urlHashCode:"[url_hash_code]",urlencodeLR:function(e){return isBoolean(e)?e:isNumber(e)?e:e?this.urlHashCode+$.url.encode(e):e},urlDecodeLR:function(e){if(isBoolean(e))return e;if(isNumber(e))return e;if(!e)return e;if(-1==e.indexOf(this.urlHashCode))return e;var t=this.urlHashCode.replace(/\[/,"\\[");t=t.replace(/\]/,"\\]");var a=t+"([^\"']+)";return e=e.replace(RegExp(a,"g"),function(t,a,n){var r="('|\")"+regCodeAddGang(strObj.urlHashCode)+a+"('|\")",o=a?$.url.decode(a):"";return o=decodeNewHtml(o),RegExp(r,"g").test(e)&&(o=o.replace(/\\\"/g,"[tmp_._yh]"),o=o.replace(/"/g,'\\"'),o=o.replace(/\[tmp_\._yh\]/g,'\\"')),o})},formatAttr:function(e,t,a,n){a=a||0;var r;r=t.data||makeNullData();var o={},i=!1,s=void 0,l=!1,u=!1,d="",c={},p={},f=[],m={},v={};e.diyClass="",e[objHasKhAttrs]={};var b={};$.each(t,function(c,g){if(d="","onFormat_"==c.substr(0,9))return void(m[c]=g);if(isStrOrNumber(g))if(strHasKuohao(g)){if(b[c]=g,"data"!=c&&(u=!0),strHasKuohao(g,"data")){var h=getJhksAbc(g),_=!1;h?($.each(h,function(e,t){-1==t.indexOf("this[")&&-1==t.indexOf("this.")||(_=!0)}),hasData(r)&&(_=!0)):_=!0,"value"!=c&&"src"!=c&&(n||hasData(r)||_)&&(g=strObj.formatStr(g,r,a,e,c),t[c]=g,isUndefined(t["onFormat_"+c])||(v["onFormat_"+c]={func:t["onFormat_"+c],val:g,data:r}))}strHasKuohao(g,"public")&&"value"!=c&&"src"!=c&&(g=strObj.formatStr(g,r,a,e,c),t[c]=g,isUndefined(t["onFormat_"+c])||(v[t["onFormat_"+c]]={func:t["onFormat_"+c],val:g,data:r}))}else"class"==c&&(e.diyClass=g);if("type"==c&&isStrOrNumber(g)&&e.renewType&&e.renewType(t),u&&-1!=strInArray(c,["readonly","readOnly"])&&e.renewReadonly&&e.renewReadonly(t),"style"==c&&"object"==typeof t[c]){var y=[],j=t.style;$.each(j,function(e,t){t=$.trim(t,";"),y.push(e+":"+t)}),o.style=y.join(";")}if(attrIsEven(c)&&(p[c]=g),isStrOrNumber(g)){if(-1!=c.indexOf("_")||-1!=c.indexOf("-")){var O=!1;styleHengAttrs.forEach(function(e){var t=new RegExp("^"+e,"gm");c.match(t)&&-1==$.inArray(c,styleIgnore)&&(c=c.replace("_","-"),O=!0)})}(-1!=strInArray(c,cantAddCssAttrs)||O)&&f.push(c+":"+g),"data"==c.substr(0,4)&&(o[c]=g)}if("show"!=c&&"hidden"!=c&&"hide"!=c||(e.setHidden=!0,("hide"!=c&&"hidden"!=c||"true"!=g&&1!=g&&1!=g)&&("show"!=c||"false"!=g&&0!=g&&0!=g)||(i=!0)),"disabled"==c&&(l=!("false"==g||!g||0==g||"0"==g)),"checked"==c&&(s=!("false"==g||!g||0==g||"0"==g)),"class_extend"==c&&(e.classExt=!0,g?(e.classExtFlag=!0,e.class_extend_true_val=g):e.classExtFlag=!1),canAddAttr(c)&&(isStrOrNumber(g)||"boolean"==typeof g)){if(e.attr&&e.attr(c)&&g&&e.attr(c)==g&&"class"!=c)return;o[c]=g}}),hasData(f)&&(isUndefined(o.style)&&(o.style=""),f.forEach(function(e){o.style=classAddSubClass(trim(o.style,";"),e,!0,";")}));var g="";e.class_extend_true_val&&(g=e.class_extend_true_val),e.classExt&&(e.classExtFlag?o.class=classAddSubClass(o.class,g,!0," "):g?o.class=classAddSubClass(o.class,g,!1," "):e.classExtFlag||t.class||!e.attr("class")||(o.class=""),t.class=o.class),e.setHidden&&(i?o.class=classAddSubClass(o.class,"hidden",!0," "):(o.class=classAddSubClass(o.class,"hidden",!1," "),e&&e.removeClass("hidden")),t.class=o.class),l||(delProperty(o,["disabled"]),e&&e.removeAttr("disabled")),isUndefined(s)||e&&(s||(delProperty(o,["checked"]),e.removeAttr("checked"))),hasData(o)&&e.attr&&(o.class==e.attr("class")&&delProperty(o,["class"]),e.attr(o)),u&&(e[objAttrHasKh]=!0),e.events=cloneData(p,e.events),strObj.addEvents(e),e[objHasKhAttrs]=b;var h=getOptVal(t,["value","th","td","src"],null);return null!==h&&isStrOrNumber(h)&&e.formatVal&&e.formatVal(t),hasData(v)&&$.each(v,function(t,a){a.func(e,a.val,a.data)}),e.onFormatEven=m,c},addEvents:function(e){var t=e.events||{};if(!e.noNeedEven&&hasData(t)){objSetOptEven(isUndefined(e.bindEvenObj)?e:e.bindEvenObj,t,e)}},reFormatKhAttr:function(e,t){var a=t.data,n=e[objHasKhAttrs]||{};if(hasData(n)){var r,o=void 0,i=!1,s=void 0,l=void 0,u=!1,d=!1,c=[],p={},f={},m=e.sor_opt,v=e.onFormatEven||{},b={};if($.each(n,function(n,m){if("value"==n||"src"==n)return void callRewObjStringVal(e,t);if(m=strObj.formatStr(m,a,0,e,n),e.options[n]=m,attrIsEven(n)&&(f[n]=m),isUndefined(v["onFormat_"+n])||(b["onFormat_"+n]={func:v["onFormat_"+n],val:m,data:a}),isStrOrNumber(m)){var g=!1;styleHengAttrs.forEach(function(e){var t=new RegExp("^"+e,"gm");n.match(t)&&(n=n.replace("_","-"),g=!0)}),(-1!=strInArray(n,cantAddCssAttrs)||g)&&c.push(n+":"+r),"data"!=n&&"data"==n.substr(0,4)&&(p[n]=r)}if("show"!=n&&"hidden"!=n&&"hide"!=n||(o=!0,("hide"!=n&&"hidden"!=n||"true"!=m&&1!=m&&1!=m)&&("show"!=n||"false"!=m&&0!=m&&0!=m)||(i=!0)),"disabled"==n&&(s=!("false"==m||!m||"0"==m)),"checked"==n&&(l=!("false"==m||!m||"0"==m)),"class_extend"==n&&(d=!0,u=!1),(isStrOrNumber(m)||"boolean"==typeof m)&&canAddAttr(n)){if(e.attr&&e.attr(n)&&m&&e.attr(n)==m&&"class"!=n)return;p[n]=m}}),hasData(c)){isUndefined(p.style)&&(p.style=""),c.forEach(function(e){p.style=classAddSubClass(trim(p.style,";"),e,!0,";")});var g=getOptVal(t,"style","");g&&!strHasKuohao(g)&&(p.style=classAddSubClass(g,p.style,";"))}var h="";if(e.class_extend_true_val&&(h=e.class_extend_true_val),d&&(u?p.class=classAddSubClass(p.class,h,!0," "):h?p.class=classAddSubClass(p.class,h,!1," "):u||t.class||!e.attr("class")||(p.class="")),isUndefined(s)||s||(delProperty(p,["disabled"]),e&&e.removeAttr("disabled")),isUndefined(l)||e&&(l||(delProperty(p,["checked"]),e.removeAttr("checked")),"checked"==t.bind&&updateBindObj("checked",l,[e])),isUndefined(o)){var _=getOptVal(m,["show"],""),y=getOptVal(m,["hide"],"");""!==_?p.class=_&&0!=_?classAddSubClass(p.class,"hidden",!1," "):classAddSubClass(p.class,"hidden",!0," "):""!==y&&(p.class=y?classAddSubClass(p.class,"hidden",!0," "):classAddSubClass(p.class,"hidden",!1," "))}else i?p.class=classAddSubClass(p.class,"hidden",!0," "):(p.class=classAddSubClass(p.class,"hidden",!1," "),e&&e.removeClass("hidden"));if(hasData(p)&&e.attr){var j=e.diyClass;j&&(p.class=classAddSubClass(j,p.class," "));var O=getOptVal(m,"class_extend","");O&&(p.class=classAddSubClass(p.class,O," ")),!0===o&&0==i&&(p.class=p.class.replace(/\s*hidden/gi,"")),p.class==e.attr("class")&&delProperty(p,["class"]),e.attr(p)}e.events=cloneData(f,e.events),this.addEvents(e),hasData(b)&&$.each(b,function(t,a){a.func(e,a.val,a.data)})}},formatStr:function(e,t,a,n,r){function o(e,a){a=a||"data",e=e||"",e=$.trim(e);var o="";if(!e)return e;if(r=r||"","data"==a){var i=/^\!*this\.data/,s=/^\!*this\[data\]/,l=e.match(i),u=e.match(s);if(l||u)o=(e.match(/(^this\.data)/)?hasData(t):!hasData(t))?1:0;else{var d=/^this\.data\.([a-zA-Z0-9]+)/,c=/^this\[data\](\[('|")?([a-zA-Z_\[\]]+[a-zA-Z_\d.]+)('|")?\])*/,p=e.match(d),f=e.match(c);if(p||f){var m=p[1]||f[1];m=strObj.urlDecodeLR(m),o="length"==m?t.length:t[m]?t[m]:n[m]?n[m]:""}else o=e}if(o&&isString(o)){var v=/^\!*this\.([a-zA-Z0-9]+)/,b=/^\!*this\[\d+\]*(\[('|")?([a-zA-Z_\[\]]+[a-zA-Z_\d.]+)('|")?\])*/,g=o.match(v),h=o.match(b);if(g||h){var m="";if(g&&(m=g[1]),h&&(m=h[1]),"data"==(m=strObj.urlDecodeLR(m)))o=!!hasData(t);else if(isUndefined(t[m]))o=isUndefined(n[m])?"":n[m];else{var _=t[m];o=o.match(/^\!/)?!_:_}}else if(-1!=e.indexOf(".")){var y=e.split("."),j=$.extend({},t);$.each(y,function(e,t){isUndefined(j[t])||(j=isUndefined(j[t])?{}:j[t])}),o=j.toString()}else o=isUndefined(t[e])?"":t[e]}}else isUndefined(livingObj.data[e])?(n&&r&&addObjAttrToBindVal(n,r,e),o=""):(o=getObjData(e),n&&r&&addObjAttrToBindVal(n,r,e));return o}function i(e){function t(e,t){var a=/((;\s*|^{\s*)([a-zA-Z_]+[a-zA-Z_\d.]*))(\s*)([\+\-*\/%]*)\=(\s*)('([^']*)'|"([^"]*)"|([^;}\s]+))\s*;*\s*}*/;if(a.test(t)){var n,r,o=t.match(RegExp(a,"g"));o.forEach(function(t){var a=/([\+\-*\/%]*)\=(\s*)/.exec(t)[0];n=t.substr(0,t.indexOf(a)),r=t.substr(t.indexOf(a)+1+(a.length-1)),n=$.trim(n),n=trim(n,"{"),n=trim(n,"}"),r=$.trim(r),r=trim(r,"}"),r=$.trim(r),r=trim(r,";"),r=$.trim(r),r=trim(r,'"'),r=trim(r,"'"),r=this.urlDecodeLR(r),livingObj.hasOwnProperty(n)||addKeyToListener(n,r,a),e=e.replace(t,function(e){return"{"==e.substr(0,1)&&"}"==e.substr(e.length-1,1)?"":"{"==e.substr(0,1)?"{":"}"==e.substr(e.length-1,1)?"}":""})}),e=i(e)}return e}if(!(e=e||""))return"";var a=e.match(/{(.+)}/g);return a&&a.forEach(function(a){if(/{([^\{\}]+)}/g.test(a)){var n=a.match(/{([^\}]+)}/g);n&&n.forEach(function(a){e=t(e,a)})}}),e}function s(e,t,a){var n,r="{",i="}";if("public"==a&&(r="{{",i="}}"),n=trim(t,r),n=trim(n,i),!(n=$.trim(n)))return void(e=e.replace(n,""));if(!e)return e;if(!isBoolean(e)){if(n=o(n,a),isStrOrNumber(n))if(isNumber(n))e=isBoolean(n)?e.replace(RegExp(regCodeAddGang(t),"g"),0):e===t?n:e.replace(RegExp(regCodeAddGang(t),"g"),n);else{e=e.replace(/\{([a-zA-Z_]+[a-zA-Z_\d.]*)\}/g,"<j>$1</j>"),n=encodeNewHtml(n);var s=t.replace(/^\{(.+)\}$/,"<j>$1<\\/j>"),l="{([^<]*)"+s+"([^}]*)['|\"|}]",u="('|\")"+regCodeAddGang(strObj.urlHashCode)+"([^'\"]*)s*"+s+"s*([^'\"]*)('|\")";if(RegExp(l,"g").test(e)&&!RegExp(u,"g").test(e)){var d=e.match(RegExp(l,"g"));d.forEach(function(t){var a=t.replace(RegExp(regCodeAddGang(s),"g"),'"'+strObj.urlencodeLR(encodeNewHtml(n))+'"');e=e.replace(RegExp(regCodeAddGang(t),"g"),a)})}e=e.replace(/<j>([a-zA-Z_]+[a-zA-Z_\d.]*)<\/j>/g,"{$1}"),e=e.replace(RegExp(regCodeAddGang(t),"g"),n)}else e=isBoolean(n)?e.replace(RegExp(regCodeAddGang(t),"g"),n?1:0):"object"==typeof n?t==e?n:e.replace(RegExp(regCodeAddGang(t),"g"),n):e.replace(RegExp(regCodeAddGang(t),"g"),"");return e=decodeNewHtml(e)}}function l(e,t){var a=[];if("data"==t){var n=e.match(/{([a-zA-Z_]+[a-zA-Z_\d.]*)}/g);n&&(a=a.concat(n));var n=e.match(/{\!*([a-zA-Z_]+[a-zA-Z_\d.]*)(\[\d+\])*(\[('|")([a-zA-Z_\[\]]+[a-zA-Z_\d.]+)('|")\])*}/g);n&&(a=a.concat(n))}else(n=e.match(/{{([a-zA-Z_]+[a-zA-Z_\d.]*)}}/g))&&(a=a.concat(n));return a&&(a=uniqueArray(a)),a}function u(e){var t=/{(.+)}/,a=/^{\s*\(*!\)*\s*}$/,n=/^{\s*\(*\s*\)*\s*}$/,r=/(({|&|\|\|)|\(\s*\))\s*(\|\||\&\&|==|!=|>=|<=|>|<|\?|\+)/,o=/(\|\||\&\&|==|!=|>=|<=|>|<|\+)\s*((}|&|\)|\|\|)|\(\s*\))/,i=/(([\|\||\&\&|\(]+)|\(\s*\))\s*(\|\||\&\&|==|===|!\=|!\=\=|>|>=|<=|\?|\+)/,s=/(==|===|!=|!==|>|>=|<=|\?|\+)\s*(([\|\||\&\&|\)|\?]+)|\(\s*\))/,l=/\?\s*:/,u=/:\s*}$/,d=/([0-9.]*)\s*([a-zA-Z_]+[a-zA-Z_\d.]*)\s*\?/,c=/(([a-zA-Z_]+[a-zA-Z_\d.]*)\s*(\+|\?|\==|!\=\=|\:|>|<|\&\&|\|\|)|(\+|\?|\==|!\=\=|\:|>|<|\&\&|\|\|)\s*([a-zA-Z_]+[a-zA-Z_\d.]*))/,p=e.match(RegExp(t,"g"));if(!hasData(p))return e;var f=function(t){return a.test(t)?t=e='{!""}':t},m=function(t){return n.test(t)?t=e='{("")}':t},v=function(t,a,n,r){var o=n;return a.forEach(function(e){e=$.trim(e);var t;/\(\s*\)/g.test(e)?"right"==r?t=e.substr(0,e.length-2)+'("")':"left"==r&&(t='("")'+$.trim(e.substr(2))):t="right"==r?-1!=strInArray(e.substr(0,2),["==",">=","<="])?e.substr(0,2)+'""'+$.trim(e.substr(2)):e.substr(0,e.length-1)+'""'+$.trim(e.substr(-1,1)):"left"==r&&-1!=strInArray(e.substr(-2,2),["==",">=","<="])?e.substr(0,e.length-2)+'""'+$.trim(e.substr(-2,2)):e.substr(0,e.length-1)+'""'+$.trim(e.substr(-1,1)),o=o.replace(RegExp(regCodeAddGang(e),"g"),t)}),e=e.replace(RegExp(regCodeAddGang(n),"g"),o),o},b=function(e){if(!o.test(e))return e;var t=e.match(RegExp(o,"g"));return t=uniqueArray(t),v(0,t,e,"right")},g=function(e){if(!r.test(e))return e;var t=e.match(RegExp(r,"g"));return t=uniqueArray(t),v(0,t,e,"left")},h=function(e){if(!i.test(e)&&!s.test(e))return e;if(i.test(e)){var t=e.match(RegExp(i,"g"));t=uniqueArray(t),e=v(0,t,e,"left")}if(s.test(e)){var t=e.match(RegExp(s,"g"));t=uniqueArray(t),e=v(0,t,e,"right")}return e=h(e)},_=function(t){if(!l.test(t)&&!u.test(t)&&!d.test(t))return t;if(l.test(t)){var a=t.match(RegExp(l,"g"));a=a[0];var n=$.trim(a);n=a.replace(RegExp(l,"g"),'?"":'),n=t.replace(RegExp(l,"g"),n),e=e.replace(t,n),t=n}if(u.test(t)){var a=t.match(RegExp(u,"g"));a=a[0];var n=$.trim(a);n=a.replace(RegExp(u,"g"),':""}'),n=t.replace(RegExp(u,"g"),n),e=e.replace(t,n),t=n}if(d.test(t)){var a=t.match(RegExp(d,"g"));a=a[0];var n=$.trim(a);n=t.replace(RegExp(d,"g"),function(e){return'"'+strObj.urlencodeLR(encodeNewHtml(e.substr(0,e.length-1)))+'"?'}),e=e.replace(t,n),t=n}return t=_(t)},y=function(t){if(!c.test(t))return t;if(c.test(t)){var a=t.match(RegExp(c,"g")),n=t;a=uniqueArray(a),a.forEach(function(e){var t,a=/([a-zA-Z_]+[a-zA-Z_\d.]*)\s*(\+|\?|\==|!\=\=|\:|>|<|\&\&|\|\|)/;if(a.test(e))t=e.replace(RegExp(a,"g"),function(e,t){return e.replace(t,'"'+strObj.urlencodeLR(encodeNewHtml(t))+'"')});else{var r=/(\+|\?|\==|!\=\=|\:|>|<|\&\&|\|\|)\s*([a-zA-Z_]+[a-zA-Z_\d.]*)/;t=e.replace(RegExp(r,"g"),function(e,t,a){return e.replace(a,'"'+strObj.urlencodeLR(encodeNewHtml(a))+'"')})}n=n.replace(e,t)}),e=e.replace(t,n),t=n}return t=y(t)},j=function(t){var a=/\(([^\}\{\'\"\)\(]+)\)/;if(!a.test(t))return t;var n=t.match(RegExp(a,"g"));n=uniqueArray(n);var r=t;return n.forEach(function(e){if(!/^\(([0-9.\-\+]+)\)$/.test(e)){var t=e.replace(RegExp(/^\((.+)\)$/,"g"),function(e,t){var a=t.replace(/([0-9\+\-\*\/\%\^]+)/g,"");return a?e.replace(a,'"'+strObj.urlencodeLR(encodeNewHtml(a))+'"'):t});r=r.replace(e,t)}}),e=e.replace(t,r),t=r};return p.forEach(function(e){/{\s*([a-zA-Z_]+[a-zA-Z_\d.]*)\s*}/g.test(e)||(e=f(e),e=m(e),e=g(e),e=b(e),e=h(e),e=y(e),e=j(e),e=_(e))}),e}function d(e){var t=e.match(/{([^\{\}]+)}/g);t=uniqueArray(t);var a=[];return $.each(t,function(e,t){isNumber(t)||isAbcJhk(t)||a.push(t)}),a=uniqueArray(a)}function c(e,t){t=t||"data";var a;return isStrOrNumber(e)?isBoolean(e)?e:e?("number"==typeof e&&(e+=""),a=l(e,t),hasData(a)?(a=uniqueArray(a),a.forEach(function(a){e=s(e,a,t)}),e):e):e:e}if(!isUndefined(t)&&isObj(t)||(t={}),e=e||"",n=n||null,r=r||"",""==e||!isStrOrNumber(e)||!strHasKuohao(e,"data")&&!strHasKuohao(e,"public"))return e;var p="{([a-zA-Z_]+[a-zA-Z_d.]*)}";return e=yinhaogTH(e),e=function(e){return isObj(e)?e:isBoolean(e)?e:isNumber(e)?e:(e=e.replace(/'([^']*)'/g,function(e){return e=trim(e,"'"),RegExp(p,"g").test(e)&&(e=c(e,"public"),e=c(e,"data")),"'"+(e?strObj.urlencodeLR(encodeNewHtml(e)):"")+"'"}),e=e.replace(/"([^"]*)"/g,function(e){return e=trim(e,'"'),RegExp(p,"g").test(e)&&(e=c(e,"public"),e=c(e,"data")),e=e.replace(/\(/g,kuohaoNewhasl),e=e.replace(/\)/g,kuohaoNewhasr),'"'+(e?strObj.urlencodeLR(encodeNewHtml(e)):"")+'"'}))}(e),e=i(e),e=function(e){return isStrOrNumber(e)?isBoolean(e)?e:e?("number"==typeof e&&(e+=""),e=c(e,"public"),isObj(e)?e:(e=u(e),strObj.hasYufa(e)&&(e=strObj.runYufa(e)),e)):e:e}(e),e=function(e){if(!isStrOrNumber(e))return e;if(isBoolean(e))return e;if(!e)return e;"number"==typeof e&&(e+=""),e=c(e,"data");var t=function(e){var a=d(e),n=0;return hasData(a)&&a.forEach(function(t){var a="",r=u(t);if(strObj.hasYufa(r)){r=strObj.urlDecodeLR(r),a=strObj.runYufa(r);var o=$.url.encode(e),i=$.url.encode(t),s=$.url.encode(a);o=o.replace(RegExp(regCodeAddGang(i),"g"),s),n++,e=o?$.url.decode(o):""}else e=decodeNewHtml(e)}),isObj(e)?e:(e=u(e),strObj.hasYufa(e)&&(e=strObj.runYufa(e)),e=strObj.urlDecodeLR(e),strHasKuohao(e,"data")&&n>0&&(e=t(e)),e)};return strHasKuohao(e,"data")?e=t(e):isStrOrNumber(e)&&(e=strObj.urlDecodeLR(e)),e}(e)}},dataIsSame=function(e,t){if(e===t)return!0
;if(isUndefined(e)&&"[]"===JSON.stringify(t))return!0;if(isUndefined(t)&&"[]"===JSON.stringify(e))return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var a in e)if(e.hasOwnProperty(a)){if(!t.hasOwnProperty(a))return!1;if(e[a]===t[a])continue;if("object"!=typeof e[a])return!1;if(!dataIsSame(e[a],t[a]))return!1}for(a in t)if(t.hasOwnProperty(a)&&!e.hasOwnProperty(a))return!1;return!0},delProperty=function(e,t){Array.isArray(t)||(t=[t]),t.map(function(t,a){Reflect.deleteProperty(e,t)})},indexClass={regs:/\[\d+\]$/,nameAddNum:function(e){var t;return t=this.regs.test(e)?e.replace(this.regs,function(){return"["+(parseInt(arguments[0].replace(/\[|\]/g,""))+1)+"]"}):e+"[0]",global[t]&&(t=this.nameAddNum(t)),t},nameRemoveNum:function(e){return this.regs.test(e)?e.replace(this.regs,""):e},nameGetNum:function(e){return this.regs.test(e)?parseInt(e.match(this.regs)[0].replace(/\[|\]/g,"")):0},nameHasNum:function(e){return this.regs.test(e)}};global.strObj=strObj;var styleHengAttrs="z_index|z-index|border_|border-|margin_|margin-|padding_|padding-|max_|max-|transition_|transition-|grid_|grid-|font_|font-|box_|box-|letter_|letter-|line_|line-|min_|column_|column-|counter_|counter-|page_|page-|word_|word-|perspective_|perspective-|nav_|nav-|min-|list_|list-|target_|target-|rotation_|rotation-|overflow_|overflow-|vertical_|vertical-|white_|white-|text_|text-|background_|background-|animation_|animation-";styleHengAttrs=styleHengAttrs.split("|");var styleIgnore=["text_key"],cantAddCssAttrs=["display","position","width","height","left","top","margin","padding","color","zindex","background","border","overflow","resize","animation","rotation"],allMouseEven=["mouseover","mouseleave","hover","click","dblclick","keydown","mousedown","mousemove","mouseup"],livingObj={data:{}};global.notifyObj={};var notifyer=function(){this.receivrs=[],this.data_name="",this.addReceivrs=function(e){-1==$.inArray(e,this.receivrs)&&this.receivrs.push(e)},this.hasReceivr=function(e){return-1!=$.inArray(e,this.receivrs)},this.notify=function(e,t){t=t||[],this.receivrs.forEach(function(a){-1==$.inArray(a,t)&&(a.updates||console.log(a),a.updates(e,t))})}};$.fn.getFormNullErr=function(){function e(a){a.forEach(function(a){_valIsAy(a)?e(a):t(a)})}function t(n){if(isOurObj(n)){var r=n.value,o=isUndefined(r)?"":r;"object"==typeof o?_valIsAy(o)?e(o):t(o):!n.null_func||a||o||(a=[n.null_func,n,n.parent])}}var a=!1;if(isOurObj(this)){var n=this.value;_valIsAy(n)?e(n):t(n)}return a},global.isPc=function(){for(var e=navigator.userAgent,t=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),a=!0,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){a=!1;break}return a},global.formSubmitEven=function(e,t){var a=getOptVal(t,["before"],null),n=e.find("input[type='file']"),r={};n.on("change",function(){var e=$(this),t=e.attr("name"),a=e[0].files[0],n=new FileReader;n.onload=function(e){var a=e.target.result;r[t]=a},n.readAsDataURL(a)}),e.on("submit",function(n){n.preventDefault(),n.stopPropagation();var o=e.serializeArray(),i={};if(i=$.extend(i,r),o.map(function(e,t){isUndefined(i[e.name])?i[e.name]=e.value:$.isArray(i[e.name])?i[e.name].push(e.value):i[e.name]=[i[e.name],e.value]}),a){if(!1===a(i))return}isUndefined(t.postData)||t.postData.map(function(e,t){i[t]=e});var s={postData:i},l=!isUndefined(t.submit)&&t.submit;l&&l(e),s=$.extend({},s,t),postAndDone(s)})};var outFunc=["sizeIsXs","sizeIsSm","sizeIsMd","sizeIsBg","sizeIsLg","isObj","getOptVal","hasData","cloneData","_onFormatVal","strHasKuohao","formatIfHasKuohao","optionGetSet","objBindVal","addCloneName","optionAddData","formatFloat","setSize","copyEvens","cutOptEvens","isUndefined","makeRandomInt","makeRandomStr","optionDataFrom","strInArray","toNumber","isNumber","copySourceOpt","renewObjData","getOptNeedParentKey","getKuohaoAbc","isStrOrNumber","delProperty","renewObjBindAttr","getObjData","getCallData","classAddSubClass","objPushVal","getMouseEven","updateBindObj","objIsNull","_getFormData","postAndDone","rePost","createRadomName","isOurObj","addTimer","makeDom","makeA","makeB","makeI","makeP","makeList","makeLi","makeH1","makeH2","makeH3","makeH4","makeH5","makeH6","makeTable","makeForm","makeTr","makeTh","makeTd","makeDiv","makeSpan","makeBtn","makeImg","makeInput","makeItems","makeSelect","makeTree","makeSwitch","makeChecked","makeRadio","makeBar","makeRili","makePage","makeEditor"];return outFunc.map(function(v,n){global[v]=function(){var res=eval(v).apply(this,Array.prototype.slice.call(arguments,0));return res}}),global.livingObj=livingObj,$.fn.dragToLoadData=function(e,t){e=e||"up";var a=$(this);a.on("touchstart",function(n){var r=n.originalEvent,o=r.changedTouches[0].pageX,i=r.changedTouches[0].pageY;a.on("touchmove",function(a){if(r=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],r.pageX-o>10?"right"==e&&t():r.pageX,r.pageY-i>10){if("down"==e){var n=$(document).scrollTop();0==n&&t()}}else if(r.pageY-i<-10&&"up"==e){var n=$(document).scrollTop(),s=$(document).height(),l=$(window).height();n+l>=s-1&&t()}})}).on("touchend",function(){a.off("touchmove")})},global}),function(){"use strict";require.config({baseUrl:"js/",paths:{jquery:"/resource/pub/js/jq/jquery-3.2.1",lrBox:"/assets/libs/lr/jquery-lr_box"}}),require(["jquery","core","lrBox"],function(e,t,a){var n={},r=t.makeBtn({class:"btnLr btnLrSm btnLrSuccess",value:"按钮",click:function(e){a.msgTis("哈喽")}});return e("#show_btn").append(r),n})}(),define("../btn",function(){});