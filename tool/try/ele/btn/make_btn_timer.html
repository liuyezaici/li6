<!DOCTYPE html> <html> <head> <meta charset="utf-8">
<link href="/assets/libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" media="all" />
<link href="/assets/libs/lr/jquery.lr_box.css" rel="stylesheet" media="all" />
<link href="/assets/libs/lr/jquery.lr_element.css" rel="stylesheet" media="all" />
 <script src="/assets/js/require.min.js"></script>


//自定义内容的按钮
<div id="show_btn"></div>

<script>

 require.config({
  baseUrl: '/assets/libs/lr/ele/',
  paths: {
   jquery: '/resource/pub/js/jq/jquery-3.2.1',
   lrBox: '/assets/libs/lr/jquery-lr_box',
  }
 });
    require(['jquery', 'core', 'lrBox'], function ($, core, lrBox) {
    //创建一个倒计时按钮 发短信用
    var diyBtn = core.makeBtn({
        data: {'rest': 0},
        name: 'sms_btn',
        'class': 'btnLr btnLrDefault',
        value: '剩余数量:{rest}'
        ,restNum: '{rest}'
        ,onload: function (btn) {
            lrBox.msgTisf('起始数量:' + btn.restNum);
            btn.timer({
                time: 20, //间隔时间
                repeat: 66, // 一直循环：true 结合while参数使用; 自定义执行次数：1+ 不需要配置while; 1或0或false：表示执行1次
                func: function (){
                    btn.restNum = parseInt(btn.restNum) + 1;
                    btn.data  = {'rest': btn.restNum};
                }
            });
        }
    });

  $('#show_btn').append(diyBtn);
});

</script>
