<?php/** * Created by PhpStorm. * User: Administrator * Date: 2019/7/5 * Time: 16:32 */class Config{    protected static $config;    function __construct()    {        self::$config = [            'apiPort'=> 8001,            //主从分表数据库配置            'db'           => [                'base'      => [                    'master' => [                        'dsn'      => 'mysql:host=127.0.0.1;port=3306;dbname=li6',                        'user'     => 'root',                        'password' => ''                    ],                    'slave'  => [                        'dsn'      => 'mysql:host=127.0.0.1;port=3306;dbname=li6',                        'user'     => 'root',                        'password' => ''                    ]                ],            ],            //Redis            'redis'        => [                'single'  => [                    'address' => '192.168.0.189', 'port' => 6379, 'password' => ''                ],                'cluster' => [                    '172.18.72.144:9001', '172.18.72.144:9002', '172.18.72.144:9003', '172.18.72.144:9004', '172.18.72.144:9005', '172.18.72.144:9006'                ]            ],             'cfg_adminmail' => 'rui6ye@163.com', //管理员邮箱             'login_cookiesname' => 'userlogin_li6', //设置登录的cookiesname 用于统一保存和读取 也可以强制所有会员退出登录             'cfg_session_time' => 14400, //4小时不操作 自动退出登录             'cfg_default_face' => '/resource/system/images/face/6.jpg',//默认头像             'cfg_email_poster' => array("rui6ye@163.com","Ygmlxomlg6", 0),  ////邮件发送帐号,第3个参数：0是163邮箱,1是QQ邮箱 2是139             'cfg_uploadpath' => RootPath."/upload",             'cfg_savelogpath' => RootPath."/log",             'cfg_user_face_path' => RootPath."/upload/face",             'cfg_imagefiles' => '/upload/images',//头像路径            //默认路由            'router' => [                'sysPathes' => [                    'appPath' => 'Application',                    'ctrlPath' => 'Controller',                    'defaultCtrl' => 'Index',                    'defaultMethod' => 'Main',                    'viewPath' => 'View',                    'modelPath' => 'Model',                    'tempPath' => 'Template',                ],                'default' => [                    'ctrl' => 'index',                    'method' => 'main',                ]            ]        ];    }    /**     * @author LR     * @Date:date 2019.7.22     * @param string $namePath     * @return mixed     * 支持多级配置     */    public static function get($namePath, $defaultVal=0)    {        $digui = function ($sour = [], $pathName = 'a.b.c') use (&$digui, $defaultVal) {            $pathArray = explode('.', $pathName);            if (count($pathArray) == 1) {                return isset($sour[$pathName]) ? $sour[$pathName] : $defaultVal;            } else {                $firstPath = $pathArray[0];                unset($pathArray[0]);                return $digui($sour[$firstPath], join('.', $pathArray));            }        };        return $digui(self::$config, $namePath);    }}new Config;